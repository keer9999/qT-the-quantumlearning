<!DOCTYPE html>
<html lang="en">
<head><link rel="stylesheet" href="global-ui.css">

<meta charset="UTF-8">
<title>Quantum Probability & Shots | The Quanta</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:"Segoe UI",Arial,sans-serif;
  background:#f4f7fc;
  color:#1f2d3d;
}

header{
  background:white;
  padding:16px 28px;
  box-shadow:0 2px 10px rgba(0,0,0,.1);
}

main{
  padding:30px;
  max-width:1200px;
  margin:auto;
}

.section{
  background:white;
  padding:30px;
  border-radius:20px;
  box-shadow:0 10px 26px rgba(0,0,0,.12);
  margin-bottom:36px;
}

h2,h3{color:#003366}
p{font-size:16px;line-height:1.8}
ul{margin-left:22px}

canvas{
  border-radius:14px;
  background:#f8fafc;
  box-shadow:0 6px 16px rgba(0,0,0,.1);
}

/* CONTROLS */
.controls{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:20px;
}

label{font-weight:600}
input[type=range]{width:100%}

button{
  padding:12px 26px;
  background:#2563eb;
  color:white;
  border:none;
  border-radius:12px;
  cursor:pointer;
  font-size:15px;
}

/* BARS */
#bars,#bars2{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:30px;
  align-items:end;
  height:220px;
  margin-top:24px;
}

.bar{
  background:#2563eb;
  text-align:center;
  color:white;
  font-weight:700;
  border-radius:14px 14px 0 0;
  padding-top:6px;
}

.bar.one{background:#16a34a}

.bar span{
  display:block;
  margin-top:6px;
  font-size:14px;
}

.info{
  background:#eef3ff;
  padding:18px;
  border-radius:16px;
  font-size:15px;
  margin-top:20px;
}

.math{
  background:#f8fafc;
  padding:16px;
  border-radius:14px;
  font-family:monospace;
  margin-top:16px;
}

/* ‚îÄ‚îÄ Advanced Quiz ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
.adv-quiz-section{margin:28px 0;}
.adv-quiz-wrap{margin-top:0;}
.adv-quiz-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px;}
.adv-quiz-title{font-size:15px;font-weight:700;color:#003366;text-transform:uppercase;letter-spacing:.08em;display:flex;align-items:center;gap:7px;}
.adv-quiz-title::before{content:'';display:inline-block;width:7px;height:7px;border-radius:50%;background:#0057b8;box-shadow:0 0 8px #0057b8;}
.adv-quiz-prog-label{font-size:13px;color:#64748b;font-weight:500;}
.adv-quiz-bar{height:5px;background:#e2e8f0;border-radius:4px;margin-bottom:18px;overflow:hidden;}
.adv-quiz-bar-fill{height:100%;background:linear-gradient(90deg,#0057b8,#00b4d8);border-radius:4px;transition:width .35s ease;}
.adv-quiz-card{background:#fff;border:2px solid #e2e8f0;border-radius:14px;padding:26px 28px;box-shadow:0 4px 16px rgba(0,70,150,.07);}
.adv-quiz-q{font-size:17px;font-weight:600;color:#1e293b;line-height:1.55;margin-bottom:20px;}
.adv-quiz-opts{display:flex;flex-direction:column;gap:10px;margin-bottom:18px;}
.adv-quiz-opt{background:#f8fafc;border:2px solid #e2e8f0;border-radius:10px;padding:13px 16px;cursor:pointer;transition:all .22s;display:flex;align-items:center;gap:14px;}
.adv-quiz-opt:hover{border-color:#0057b8;background:rgba(0,87,184,.05);}
.adv-quiz-opt.selected{border-color:#0057b8;background:rgba(0,87,184,.12);}
.adv-quiz-opt.correct{border-color:#10b981;background:rgba(16,185,129,.12);}
.adv-quiz-opt.incorrect{border-color:#ef4444;background:rgba(239,68,68,.12);}
.adv-quiz-opt.disabled{cursor:not-allowed;}
.adv-opt-letter{width:32px;height:32px;border-radius:50%;border:2px solid #cbd5e1;background:#fff;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:13px;color:#64748b;flex-shrink:0;transition:all .22s;}
.adv-quiz-opt.selected .adv-opt-letter{background:#0057b8;border-color:#0057b8;color:#fff;}
.adv-quiz-opt.correct .adv-opt-letter{background:#10b981;border-color:#10b981;color:#fff;}
.adv-quiz-opt.incorrect .adv-opt-letter{background:#ef4444;border-color:#ef4444;color:#fff;}
.adv-opt-text{flex:1;font-size:15px;color:#475569;line-height:1.4;}
.adv-quiz-opt.selected .adv-opt-text{color:#1e293b;}
.adv-quiz-explain{display:none;margin-top:14px;background:#eef6ff;border-left:4px solid #0057b8;border-radius:8px;padding:14px 16px;}
.adv-quiz-explain.show{display:block;animation:aqSlide .3s ease;}
.adv-explain-title{font-size:11px;font-weight:700;color:#0057b8;text-transform:uppercase;letter-spacing:.1em;margin-bottom:5px;}
.adv-explain-text{font-size:14px;color:#334155;line-height:1.6;}
.adv-quiz-controls{display:flex;justify-content:center;gap:12px;margin-top:20px;}
.adv-quiz-btn{padding:10px 24px;border-radius:8px;font-weight:600;font-size:14px;cursor:pointer;border:none;transition:all .2s;display:inline-flex;align-items:center;gap:6px;}
.adv-quiz-btn:disabled{opacity:.45;cursor:not-allowed;}
.adv-quiz-btn-primary{background:linear-gradient(135deg,#0057b8,#0094d4);color:#fff;}
.adv-quiz-btn-primary:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 18px rgba(0,87,184,.35);}
.adv-quiz-btn-secondary{background:transparent;border:2px solid #e2e8f0;color:#475569;}
.adv-quiz-btn-secondary:hover:not(:disabled){border-color:#0057b8;color:#0057b8;}
.adv-quiz-results{background:#fff;border:2px solid #0057b8;border-radius:14px;padding:36px;text-align:center;display:none;}
.adv-quiz-results.show{display:block;animation:aqZoom .4s ease;}
.adv-quiz-score-pct{font-size:60px;font-weight:800;background:linear-gradient(135deg,#0057b8,#00b4d8);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;line-height:1;}
.adv-quiz-score-label{font-size:20px;color:#475569;margin:8px 0 4px;}
.adv-quiz-score-detail{font-size:15px;color:#94a3b8;margin-bottom:20px;}
.adv-quiz-feedback{font-size:17px;color:#1e293b;background:#eef6ff;border-radius:10px;padding:16px 20px;margin-bottom:22px;}
@keyframes aqSlide{from{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}
@keyframes aqZoom{from{opacity:0;transform:scale(.92)}to{opacity:1;transform:scale(1)}}

</style>
</head>

<body>
    <!-- Global Back Button -->
<div class="global-back-btn" onclick="goBackGlobal()" title="Go Back"></div>
  ‚Üê
</div>


<header>
  <h2>Quantum Probability & Shots</h2>
</header>

<main>

<!-- 1Ô∏è‚É£ WHAT IS PROBABILITY -->
<div class="section">
  <h2>What Does Probability Mean in Quantum Computing?</h2>

  <p>
    In quantum computing, outcomes are not fixed.
    Instead, the quantum state tells us how likely each result is.
  </p>

  <ul>
    <li>Measurement gives one random outcome</li>
    <li>Probability comes from the quantum state</li>
    <li>Repeated measurements reveal the pattern</li>
  </ul>
</div>

<!-- 2Ô∏è‚É£ SINGLE QUBIT -->
<div class="section">
  <h2>Single-Qubit Probability</h2>

  <p>
    A single qubit can exist in a superposition of |0‚ü© and |1‚ü©.
    The bias of the state controls which outcome appears more often.
  </p>
</div>

<!-- 3Ô∏è‚É£ VISUAL INTUITION -->
<div class="section">
  <h3>Probability Distribution (Visual Intuition)</h3>

  <p>
    The curve below represents the probability distribution.
    Higher regions mean higher likelihood of that outcome.
  </p>

  <canvas id="waveCanvas" width="900" height="220"></canvas>

  <div class="controls">
    <div>
      <label>Bias toward |0‚ü© or |1‚ü©</label>
      <input type="range" min="-1" max="1" step="0.01" value="0" id="center">
    </div>

    <div>
      <label>Uncertainty</label>
      <input type="range" min="0.1" max="0.6" step="0.01" value="0.3" id="width">
    </div>

    <div>
      <label>Number of shots</label>
      <input type="range" min="1" max="2000" value="500" id="shots">
    </div>

    <div>
      <button onclick="measureSingle()">Measure</button>
    </div>
  </div>

  <div id="bars">
    <div class="bar" id="bar0">|0‚ü©</div>
    <div class="bar one" id="bar1">|1‚ü©</div>
    <div></div><div></div>
  </div>

  <!-- üîΩ MOVED DOWN CLEANLY -->
  <div class="info">
    As the number of shots increases, the measured results get closer
    to the true quantum probability.
  </div>
</div>

<!-- 4Ô∏è‚É£ TWO QUBIT THEORY -->
<div class="section">
  <h2>How Probability Works for Two Qubits</h2>

  <p>
    Two qubits together have four possible outcomes:
    |00‚ü©, |01‚ü©, |10‚ü©, and |11‚ü©.
  </p>

  <div class="math">
    |œà‚ü© = a|00‚ü© + b|01‚ü© + c|10‚ü© + d|11‚ü©
  </div>

  <p>
    Each coefficient is called an amplitude.
    Probability is directly proportional to the square of the amplitude.
  </p>

  <div class="math">
    Probability ‚àù (Amplitude)¬≤
  </div>
</div>

<!-- 5Ô∏è‚É£ TWO QUBIT INTERACTIVE -->
<div class="section">
  <h3>Two-Qubit Interactive Probability & Measurement</h3>

  <!-- üîπ FORMULA INSIDE INTERACTIVE -->
  <div class="info">
    In this simulator, each slider controls an amplitude.
    The probability of each outcome is calculated as:
    <br><strong>Probability = (Amplitude)¬≤</strong>
  </div>

  <div class="controls">
    <div>
      <label>|00‚ü© amplitude</label>
      <input type="range" min="0" max="1" step="0.01" value="0.5" id="a00">
    </div>
    <div>
      <label>|01‚ü© amplitude</label>
      <input type="range" min="0" max="1" step="0.01" value="0.5" id="a01">
    </div>
    <div>
      <label>|10‚ü© amplitude</label>
      <input type="range" min="0" max="1" step="0.01" value="0.5" id="a10">
    </div>
    <div>
      <label>|11‚ü© amplitude</label>
      <input type="range" min="0" max="1" step="0.01" value="0.5" id="a11">
    </div>
    <div>
      <label>Shots</label>
      <input type="range" min="1" max="5000" value="1000" id="shots2">
    </div>
    <div>
      <button onclick="measureTwo()">Measure Two-Qubit State</button>
    </div>
  </div>

  <div id="bars2">
    <div class="bar" id="b00">|00‚ü©<span>0</span></div>
    <div class="bar" id="b01">|01‚ü©<span>0</span></div>
    <div class="bar" id="b10">|10‚ü©<span>0</span></div>
    <div class="bar" id="b11">|11‚ü©<span>0</span></div>
  </div>
</div>


</main>

<script>
/* ---------- SINGLE QUBIT ---------- */
const canvas=document.getElementById("waveCanvas");
const ctx=canvas.getContext("2d");

function drawWave(){
  const mu=parseFloat(center.value);
  const sigma=parseFloat(width.value);
  ctx.clearRect(0,0,900,220);

  let p0=0,p1=0;
  for(let x=0;x<900;x++){
    const xp=(x/900)*2-1;
    const psi=Math.exp(-((xp-mu)**2)/(2*sigma*sigma));
    const p=psi*psi;
    ctx.fillRect(x,220-p*180,2,2);
    if(x<450)p0+=p; else p1+=p;
  }
  drawWave.p0=p0;
  drawWave.p1=p1;
}

function measureSingle(){
  const shotsVal=parseInt(shots.value);
  const total=drawWave.p0+drawWave.p1;
  const p0=drawWave.p0/total;

  let c0=0;
  for(let i=0;i<shotsVal;i++) if(Math.random()<p0) c0++;
  let c1=shotsVal-c0;

  bar0.style.height=(c0/shotsVal*180)+"px";
  bar1.style.height=(c1/shotsVal*180)+"px";
  bar0.innerText="|0‚ü© "+c0;
  bar1.innerText="|1‚ü© "+c1;
}

center.oninput=width.oninput=drawWave;
drawWave();

/* ---------- TWO QUBIT ---------- */
function measureTwo(){
  const amps=[a00.value**2,a01.value**2,a10.value**2,a11.value**2];
  const total=amps.reduce((s,x)=>s+x,0);
  const p=amps.map(x=>x/total);

  const shotsVal=parseInt(shots2.value);
  const c=[0,0,0,0];

  for(let i=0;i<shotsVal;i++){
    let r=Math.random(),sum=0;
    for(let j=0;j<4;j++){
      sum+=p[j];
      if(r<sum){c[j]++;break;}
    }
  }

  [b00,b01,b10,b11].forEach((el,i)=>{
    el.style.height=(c[i]/shotsVal*200)+"px";
    el.querySelector("span").innerText=c[i];
  });
}
</script>
<script src="global-ui.js"></script>

<!-- ‚îÄ‚îÄ Advanced Probability & Shots Quiz (self-contained) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
<style>
/* ‚îÄ‚îÄ Advanced Quiz ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
.adv-quiz-section{background:#fff;border-radius:16px;box-shadow:0 6px 18px rgba(0,0,0,.08);margin:28px 0;padding:28px;}
.adv-quiz-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px;}
.adv-quiz-title{font-size:15px;font-weight:700;color:#003366;text-transform:uppercase;letter-spacing:.08em;display:flex;align-items:center;gap:7px;}
.adv-quiz-title::before{content:'';display:inline-block;width:7px;height:7px;border-radius:50%;background:#0057b8;box-shadow:0 0 8px #0057b8;}
.adv-quiz-prog-label{font-size:13px;color:#64748b;font-weight:500;}
.adv-quiz-bar{height:5px;background:#e2e8f0;border-radius:4px;margin-bottom:18px;overflow:hidden;}
.adv-quiz-bar-fill{height:100%;background:linear-gradient(90deg,#0057b8,#00b4d8);border-radius:4px;transition:width .35s ease;}
.adv-quiz-card{background:#fff;border:2px solid #e2e8f0;border-radius:14px;padding:26px 28px;box-shadow:0 4px 16px rgba(0,70,150,.07);}
.adv-quiz-q{font-size:17px;font-weight:600;color:#1e293b;line-height:1.55;margin-bottom:20px;}
.adv-quiz-opts{display:flex;flex-direction:column;gap:10px;margin-bottom:18px;}
.adv-quiz-opt{background:#f8fafc;border:2px solid #e2e8f0;border-radius:10px;padding:13px 16px;cursor:pointer;transition:all .22s;display:flex;align-items:center;gap:14px;}
.adv-quiz-opt:hover{border-color:#0057b8;background:rgba(0,87,184,.05);}
.adv-quiz-opt.selected{border-color:#0057b8;background:rgba(0,87,184,.12);}
.adv-quiz-opt.correct{border-color:#10b981;background:rgba(16,185,129,.12);}
.adv-quiz-opt.incorrect{border-color:#ef4444;background:rgba(239,68,68,.12);}
.adv-quiz-opt.disabled{cursor:not-allowed;}
.adv-opt-letter{width:32px;height:32px;border-radius:50%;border:2px solid #cbd5e1;background:#fff;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:13px;color:#64748b;flex-shrink:0;transition:all .22s;}
.adv-quiz-opt.selected .adv-opt-letter{background:#0057b8;border-color:#0057b8;color:#fff;}
.adv-quiz-opt.correct .adv-opt-letter{background:#10b981;border-color:#10b981;color:#fff;}
.adv-quiz-opt.incorrect .adv-opt-letter{background:#ef4444;border-color:#ef4444;color:#fff;}
.adv-opt-text{flex:1;font-size:15px;color:#475569;line-height:1.4;}
.adv-quiz-opt.selected .adv-opt-text{color:#1e293b;}
.adv-quiz-explain{display:none;margin-top:14px;background:#eef6ff;border-left:4px solid #0057b8;border-radius:8px;padding:14px 16px;}
.adv-quiz-explain.show{display:block;animation:aqSlide .3s ease;}
.adv-explain-title{font-size:11px;font-weight:700;color:#0057b8;text-transform:uppercase;letter-spacing:.1em;margin-bottom:5px;}
.adv-explain-text{font-size:14px;color:#334155;line-height:1.6;}
.adv-quiz-controls{display:flex;justify-content:center;gap:12px;margin-top:20px;}
.adv-quiz-btn{padding:10px 24px;border-radius:8px;font-weight:600;font-size:14px;cursor:pointer;border:none;transition:all .2s;display:inline-flex;align-items:center;gap:6px;}
.adv-quiz-btn:disabled{opacity:.45;cursor:not-allowed;}
.adv-quiz-btn-primary{background:linear-gradient(135deg,#0057b8,#0094d4);color:#fff;}
.adv-quiz-btn-primary:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 18px rgba(0,87,184,.35);}
.adv-quiz-btn-secondary{background:transparent;border:2px solid #e2e8f0;color:#475569;}
.adv-quiz-btn-secondary:hover:not(:disabled){border-color:#0057b8;color:#0057b8;}
.adv-quiz-results{background:#fff;border:2px solid #0057b8;border-radius:14px;padding:36px;text-align:center;display:none;}
.adv-quiz-results.show{display:block;animation:aqZoom .4s ease;}
.adv-quiz-score-pct{font-size:60px;font-weight:800;background:linear-gradient(135deg,#0057b8,#00b4d8);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;line-height:1;}
.adv-quiz-score-label{font-size:20px;color:#475569;margin:8px 0 4px;}
.adv-quiz-score-detail{font-size:15px;color:#94a3b8;margin-bottom:20px;}
.adv-quiz-feedback{font-size:17px;color:#1e293b;background:#eef6ff;border-radius:10px;padding:16px 20px;margin-bottom:22px;}
@keyframes aqSlide{from{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}
@keyframes aqZoom{from{opacity:0;transform:scale(.92)}to{opacity:1;transform:scale(1)}}
</style>

<div style="max-width:1100px;margin:28px auto;padding:0 24px;">
<div class="adv-quiz-section">
  <div id="advQuizMount_probabilityQuizData"></div>
</div>
</div>

<script>
(function(){

class AdvQuiz {
  constructor(data, mountId) {
    this.data=data; this.mount=document.getElementById(mountId);
    this.cur=0; this.score=0; this.answers=[]; this.answered=false;
    this.render();
  }
  render() {
    if(!this.mount)return;
    const q=this.data.questions[this.cur];
    const pct=(this.cur/this.data.questions.length)*100;
    this.mount.innerHTML=`
      <div class="adv-quiz-header">
        <div class="adv-quiz-title">${this.data.topicName} Quiz</div>
        <div class="adv-quiz-prog-label">Q${this.cur+1}&nbsp;/&nbsp;${this.data.questions.length}</div>
      </div>
      <div class="adv-quiz-bar"><div class="adv-quiz-bar-fill" style="width:${pct}%"></div></div>
      <div class="adv-quiz-card">
        <div class="adv-quiz-q">${q.question}</div>
        <div class="adv-quiz-opts">
          ${q.options.map((o,i)=>`
            <div class="adv-quiz-opt" data-i="${i}">
              <div class="adv-opt-letter">${'ABCD'[i]}</div>
              <div class="adv-opt-text">${o}</div>
            </div>`).join('')}
        </div>
        <div class="adv-quiz-explain" id="aqqExp">
          <div class="adv-explain-title">Explanation</div>
          <div class="adv-explain-text">${q.explanation}</div>
        </div>
      </div>
      <div class="adv-quiz-controls">
        <button class="adv-quiz-btn adv-quiz-btn-secondary" id="aqPrev" ${this.cur===0?'disabled':''}>&larr; Prev</button>
        <button class="adv-quiz-btn adv-quiz-btn-primary" id="aqSubmit" disabled>Submit</button>
        <button class="adv-quiz-btn adv-quiz-btn-secondary" id="aqNext" style="display:none">Next &rarr;</button>
      </div>`;
    this.restoreAnswer(); this.bind();
  }
  bind() {
    this.mount.querySelectorAll('.adv-quiz-opt').forEach(el=>el.addEventListener('click',()=>{if(!this.answered)this.select(el);}));
    const sub=this.mount.querySelector('#aqSubmit'); if(sub)sub.addEventListener('click',()=>this.submit());
    const prv=this.mount.querySelector('#aqPrev'); if(prv)prv.addEventListener('click',()=>{this.cur--;this.answered=!!this.answers[this.cur];this.render();});
    const nxt=this.mount.querySelector('#aqNext'); if(nxt)nxt.addEventListener('click',()=>{
      if(this.cur<this.data.questions.length-1){this.cur++;this.answered=!!this.answers[this.cur];this.render();}
      else this.showResults();
    });
  }
  select(el){
    this.mount.querySelectorAll('.adv-quiz-opt').forEach(o=>o.classList.remove('selected'));
    el.classList.add('selected');
    const sub=this.mount.querySelector('#aqSubmit'); if(sub)sub.disabled=false;
  }
  submit(){
    const sel=this.mount.querySelector('.adv-quiz-opt.selected'); if(!sel)return;
    this.answered=true;
    const i=parseInt(sel.dataset.i),q=this.data.questions[this.cur],ok=i===q.correct;
    if(ok&&!this.answers[this.cur])this.score++;
    this.answers[this.cur]={selected:i,correct:ok};
    this.mount.querySelectorAll('.adv-quiz-opt').forEach((o,idx)=>{
      o.classList.add('disabled');
      if(idx===q.correct)o.classList.add('correct');
      else if(idx===i&&!ok)o.classList.add('incorrect');
    });
    const exp=this.mount.querySelector('#aqqExp'); if(exp)exp.classList.add('show');
    const sub=this.mount.querySelector('#aqSubmit'); if(sub)sub.style.display='none';
    const nxt=this.mount.querySelector('#aqNext'); if(nxt){
      nxt.style.display='inline-flex';
      if(this.cur===this.data.questions.length-1)nxt.textContent='View Results';
    }
    if(ok&&typeof startFireworks==='function')startFireworks();
  }
  restoreAnswer(){
    const prev=this.answers[this.cur]; if(!prev)return;
    this.answered=true;
    const q=this.data.questions[this.cur];
    this.mount.querySelectorAll('.adv-quiz-opt').forEach((o,idx)=>{
      o.classList.add('disabled');
      if(idx===q.correct)o.classList.add('correct');
      if(idx===prev.selected){o.classList.add('selected');if(!prev.correct)o.classList.add('incorrect');}
    });
    const exp=this.mount.querySelector('#aqqExp'); if(exp)exp.classList.add('show');
    const sub=this.mount.querySelector('#aqSubmit'); if(sub)sub.style.display='none';
    const nxt=this.mount.querySelector('#aqNext'); if(nxt)nxt.style.display='inline-flex';
  }
  showResults(){
    const pct=Math.round((this.score/this.data.questions.length)*100);
    const fb=pct>=90?'Outstanding! You have mastered this topic!':pct>=70?'Great job! Solid understanding of the concepts.':pct>=50?'Good effort! Review the material to strengthen your understanding.':'Keep learning! Re-read the theory and try again.';
    this.mount.innerHTML=`
      <div class="adv-quiz-results show">
        <div class="adv-quiz-score-pct">${pct}%</div>
        <div class="adv-quiz-score-label">Your Score</div>
        <div class="adv-quiz-score-detail">${this.score} out of ${this.data.questions.length} correct</div>
        <div class="adv-quiz-feedback">${fb}</div>
        <div class="adv-quiz-controls">
          <button class="adv-quiz-btn adv-quiz-btn-secondary" onclick="location.reload()">Try Again</button>
        </div>
      </div>`;
  }
}

const probabilityQuizData = {
  topicName: "Probability & Shots",
  questions: [
    {
      question: "Why do quantum computers need to run circuits many times ('shots')?",
      options: ["To charge the quantum processor", "Each run gives a probabilistic result and many shots are needed for statistics", "To keep the qubits cold", "To compile the circuit faster"],
      correct: 1,
      explanation: "Quantum measurement is probabilistic. Each shot gives one classical outcome. Running many shots builds a statistical distribution approximating the true probabilities."
    },
    {
      question: "If P(|0‚ü©) = 0.75, how many |0‚ü© results are expected from 1000 shots?",
      options: ["750", "250", "500", "1000"],
      correct: 0,
      explanation: "Expected count = 1000 √ó 0.75 = 750. With actual shots the result fluctuates around 750 due to statistical noise."
    },
    {
      question: "What is 'shot noise' in quantum computing?",
      options: ["Noise from the shot clock", "Statistical fluctuations due to finite number of measurements", "Thermal noise in the processor", "Errors in the Hadamard gate"],
      correct: 1,
      explanation: "Shot noise is statistical fluctuation arising from a finite sample. More shots ‚Üí smaller relative fluctuation ‚Üí better probability estimate."
    },
    {
      question: "How does increasing shots affect measurement accuracy?",
      options: ["More shots ‚Üí less accurate", "Shots have no effect", "More shots ‚Üí more accurate (by law of large numbers)", "Fewer shots are always preferred"],
      correct: 2,
      explanation: "By the law of large numbers, frequencies converge to true probabilities as N‚Üí‚àû. Standard error scales as 1/‚àöN."
    },
    {
      question: "Which state gives equal probability for |0‚ü© and |1‚ü©?",
      options: ["|0‚ü©", "(|0‚ü© + |1‚ü©)/‚àö2", "0.3|0‚ü© + 0.7|1‚ü©", "|1‚ü©"],
      correct: 1,
      explanation: "(|0‚ü©+|1‚ü©)/‚àö2 is the |+‚ü© state. Each amplitude is 1/‚àö2 so |amplitude|¬≤ = 0.5 for both outcomes ‚Äî exactly 50/50."
    },
    {
      question: "What rule gives measurement probabilities from amplitudes?",
      options: ["Bayes Theorem", "Pauli Exclusion Principle", "Born Rule", "Central Limit Theorem"],
      correct: 2,
      explanation: "The Born Rule: P(outcome) = |amplitude|¬≤. This is the fundamental bridge between the quantum state and observed frequencies."
    },
    {
      question: "With only 10 shots on a fair-coin qubit, what |0‚ü© count is most realistic?",
      options: ["Exactly 5", "0 to 10", "Anywhere from 3 to 7 (typical range)", "Only 0 or 10"],
      correct: 2,
      explanation: "With 10 shots the uncertainty is large. Anything from 3 to 7 is common ‚Äî not reliably exactly 5."
    },
    {
      question: "A histogram from many shots approximates what property of the quantum state?",
      options: ["The amplitudes directly", "The squared amplitudes (probabilities)", "The complex phases", "The entanglement entropy"],
      correct: 1,
      explanation: "After many shots, bar heights approximate |Œ±|¬≤ for |0‚ü© and |Œ≤|¬≤ for |1‚ü© ‚Äî the squared amplitudes, not the amplitudes themselves."
    },
  ]
};
// Wait for DOM to be ready
if(document.readyState==='loading'){
  document.addEventListener('DOMContentLoaded', function(){ new AdvQuiz(probabilityQuizData, 'advQuizMount_probabilityQuizData'); });
} else {
  new AdvQuiz(probabilityQuizData, 'advQuizMount_probabilityQuizData');
}
})();
</script>


<!-- QT-ENHANCEMENTS-v1 -->
<style>
/* ‚îÄ‚îÄ QT Enhancements ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
.qt-enhance-wrap{max-width:1100px;margin:0 auto;padding:0 24px 48px;}
/* Key Concepts */
.qt-concepts{background:#fff;border-radius:16px;box-shadow:0 4px 18px rgba(0,40,120,.08);padding:28px 32px;margin-bottom:24px;}
.qt-concepts-title{font-size:13px;font-weight:700;letter-spacing:.12em;color:#0057b8;text-transform:uppercase;margin-bottom:18px;display:flex;align-items:center;gap:8px;}
.qt-concepts-title::before{content:'';width:10px;height:10px;border-radius:50%;background:linear-gradient(135deg,#0057b8,#00b4d8);display:inline-block;flex-shrink:0;}
.qt-concepts-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px;}
.qt-concept-card{background:linear-gradient(135deg,#f0f7ff,#e8f4ff);border:1.5px solid #c7deff;border-radius:12px;padding:16px 18px;position:relative;overflow:hidden;}
.qt-concept-card::before{content:'';position:absolute;top:-20px;right:-20px;width:70px;height:70px;border-radius:50%;background:rgba(0,87,184,.07);}
.qt-concept-card h4{margin:0 0 7px;font-size:14px;color:#003380;font-weight:700;}
.qt-concept-card p{margin:0;font-size:13px;color:#475569;line-height:1.6;}
.qt-concept-card.green{background:linear-gradient(135deg,#f0fdf4,#dcfce7);border-color:#86efac;}
.qt-concept-card.green h4{color:#166534;}
.qt-concept-card.purple{background:linear-gradient(135deg,#faf5ff,#ede9fe);border-color:#c4b5fd;}
.qt-concept-card.purple h4{color:#581c87;}
.qt-concept-card.orange{background:linear-gradient(135deg,#fff7ed,#ffedd5);border-color:#fed7aa;}
.qt-concept-card.orange h4{color:#9a3412;}
/* Formula reference */
.qt-formula-box{background:#0f172a;border-radius:14px;padding:24px 28px;margin-bottom:24px;color:#e2e8f0;}
.qt-formula-box-title{font-size:12px;font-weight:700;letter-spacing:.15em;color:#38bdf8;text-transform:uppercase;margin-bottom:16px;}
.qt-formula-row{display:flex;align-items:flex-start;gap:16px;padding:10px 0;border-bottom:1px solid rgba(255,255,255,.06);}
.qt-formula-row:last-child{border-bottom:none;}
.qt-formula-tag{background:rgba(56,189,248,.15);border:1px solid rgba(56,189,248,.3);color:#38bdf8;font-size:11px;font-weight:700;padding:3px 9px;border-radius:20px;white-space:nowrap;flex-shrink:0;}
.qt-formula-math{font-family:'Courier New',monospace;font-size:15px;color:#f1f5f9;flex:1;}
.qt-formula-desc{font-size:12px;color:#94a3b8;margin-top:3px;}
/* Did You Know */
.qt-dyk{background:linear-gradient(135deg,#1e1b4b,#312e81);border-radius:14px;padding:22px 26px;margin-bottom:24px;display:flex;align-items:flex-start;gap:16px;color:#fff;}
.qt-dyk-icon{font-size:28px;flex-shrink:0;margin-top:2px;}
.qt-dyk-title{font-size:11px;font-weight:700;letter-spacing:.14em;color:#a5b4fc;text-transform:uppercase;margin-bottom:6px;}
.qt-dyk-text{font-size:14px;color:#e0e7ff;line-height:1.7;}
/* Notebook */
.qt-notebook{background:#fff;border-radius:16px;box-shadow:0 4px 18px rgba(0,40,120,.1);overflow:hidden;margin-bottom:24px;}
.qt-nb-header{background:linear-gradient(135deg,#1e293b,#0f172a);padding:16px 22px;display:flex;align-items:center;gap:10px;}
.qt-nb-dots{display:flex;gap:6px;}
.qt-nb-dot{width:12px;height:12px;border-radius:50%;}
.qt-nb-dot.red{background:#ff5f57;}
.qt-nb-dot.yellow{background:#febc2e;}
.qt-nb-dot.green{background:#28c840;}
.qt-nb-title{color:#94a3b8;font-size:13px;font-family:monospace;margin-left:8px;}
.qt-nb-body{padding:20px 22px;}
.qt-nb-label{font-size:11px;font-weight:700;letter-spacing:.12em;color:#0057b8;text-transform:uppercase;margin-bottom:8px;}
.qt-nb-tabs{display:flex;gap:4px;margin-bottom:12px;flex-wrap:wrap;}
.qt-nb-tab{padding:5px 13px;border-radius:6px;font-size:12px;font-weight:600;cursor:pointer;border:1.5px solid #e2e8f0;color:#64748b;background:#f8fafc;transition:all .18s;}
.qt-nb-tab:hover,.qt-nb-tab.active{background:#0057b8;border-color:#0057b8;color:#fff;}
.qt-nb-editor{position:relative;}
.qt-nb-code{
  width:100%;min-height:120px;background:#0f172a;color:#a5f3fc;
  font-family:'Courier New',monospace;font-size:13px;line-height:1.7;
  border:2px solid #1e293b;border-radius:10px;padding:14px;
  resize:vertical;outline:none;box-sizing:border-box;
  transition:border-color .2s;
}
.qt-nb-code:focus{border-color:#0057b8;}
.qt-nb-actions{display:flex;gap:10px;margin-top:10px;}
.qt-nb-run{background:linear-gradient(135deg,#0057b8,#0094d4);color:#fff;border:none;border-radius:8px;padding:9px 22px;font-weight:700;font-size:13px;cursor:pointer;transition:all .2s;}
.qt-nb-run:hover{transform:translateY(-2px);box-shadow:0 6px 18px rgba(0,87,184,.4);}
.qt-nb-clear{background:transparent;border:2px solid #e2e8f0;border-radius:8px;padding:9px 16px;font-size:13px;color:#64748b;cursor:pointer;transition:all .2s;}
.qt-nb-clear:hover{border-color:#ef4444;color:#ef4444;}
.qt-nb-output{margin-top:14px;background:#f8fafc;border:1.5px solid #e2e8f0;border-radius:10px;padding:14px 16px;min-height:56px;font-family:monospace;font-size:13px;color:#334155;white-space:pre-wrap;line-height:1.7;}
.qt-nb-output.error{background:#fff1f2;border-color:#fca5a5;color:#991b1b;}
.qt-nb-output.success{background:#f0fdf4;border-color:#86efac;color:#166534;}
@media(max-width:600px){.qt-concepts-grid{grid-template-columns:1fr;}.qt-formula-row{flex-direction:column;gap:6px;}}
</style>
<div class="qt-enhance-wrap">

  <!-- Key Concepts -->
  <div class="qt-concepts">
    <div class="qt-concepts-title">Key Concepts</div>
    <div class="qt-concepts-grid">
      <div class="qt-concept-card"><h4>üìà Probability Amplitude</h4><p>Quantum states carry complex amplitudes, not probabilities. P = |amplitude|¬≤ ‚Äî always square to get probability.</p></div>
<div class="qt-concept-card green"><h4>üéØ Shot Statistics</h4><p>One measurement gives ONE outcome. You need many shots (N) to estimate probabilities. Error ‚àù 1/‚àöN.</p></div>
<div class="qt-concept-card purple"><h4>üìä Born Rule</h4><p>P(outcome k) = |‚ü®k|œà‚ü©|¬≤. This bridges the quantum wavefunction and physical experiments.</p></div>
<div class="qt-concept-card orange"><h4>üî¢ Shot Noise</h4><p>Statistical noise from finite measurements. 100 shots ‚Üí ¬±10% error. 10,000 shots ‚Üí ¬±1% error.</p></div>

    </div>
  </div>

  <!-- Formula Reference -->
  <div class="qt-formula-box">
    <div class="qt-formula-box-title">üìê Formula Reference</div>
    <div class="qt-formula-row">
  <span class="qt-formula-tag">Born Rule</span>
  <div><div class="qt-formula-math">P(k) = |Œ±‚Çñ|¬≤</div><div class="qt-formula-desc">Probability of outcome k</div></div>
</div>
<div class="qt-formula-row">
  <span class="qt-formula-tag">Normalisation</span>
  <div><div class="qt-formula-math">Œ£|Œ±‚Çñ|¬≤ = 1</div><div class="qt-formula-desc">All probabilities sum to 1</div></div>
</div>
<div class="qt-formula-row">
  <span class="qt-formula-tag">Shot error</span>
  <div><div class="qt-formula-math">œÉ ‚âà ‚àö(P(1-P)/N)</div><div class="qt-formula-desc">Standard error from N shots</div></div>
</div>
<div class="qt-formula-row">
  <span class="qt-formula-tag">|+‚ü©</span>
  <div><div class="qt-formula-math">P(0) = P(1) = 0.5</div><div class="qt-formula-desc">Equal superposition probabilities</div></div>
</div>
<div class="qt-formula-row">
  <span class="qt-formula-tag">2-qubit</span>
  <div><div class="qt-formula-math">P(00)+P(01)+P(10)+P(11)=1</div><div class="qt-formula-desc">Multi-qubit normalisation</div></div>
</div>
<div class="qt-formula-row">
  <span class="qt-formula-tag">Fidelity</span>
  <div><div class="qt-formula-math">F = |‚ü®œà|œÜ‚ü©|¬≤</div><div class="qt-formula-desc">Overlap between two states</div></div>
</div>

  </div>

  <!-- Did You Know -->
  <div class="qt-dyk">
    <div class="qt-dyk-icon">üí°</div>
    <div>
      <div class="qt-dyk-title">Did You Know?</div>
      <div class="qt-dyk-text">IBM Quantum computers typically use 1024‚Äì8192 shots per circuit by default. More shots = better statistics but longer execution time. Real hardware results differ from simulation due to physical noise!</div>
    </div>
  </div>

  <!-- Quantum Notebook -->
  <div class="qt-notebook">
    <div class="qt-nb-header">
      <div class="qt-nb-dots">
        <div class="qt-nb-dot red"></div>
        <div class="qt-nb-dot yellow"></div>
        <div class="qt-nb-dot green"></div>
      </div>
      <div class="qt-nb-title">üìì probability_shots.ipynb</div>
    </div>
    <div class="qt-nb-body">
      <div class="qt-nb-label">Interactive Quantum Notebook</div>
      <p style="font-size:13px;color:#64748b;margin:0 0 10px;">Run JavaScript code to explore quantum concepts. Select an example or write your own:</p>
      <div class="qt-nb-tabs" id="qtnbTabs_probability">
        <div class="qt-nb-tab active" onclick="qtnbSetTab(this,'probability',0)">Shot Estimate</div><div class="qt-nb-tab" onclick="qtnbSetTab(this,'probability',1)">Shot Noise</div><div class="qt-nb-tab" onclick="qtnbSetTab(this,'probability',2)">2-Qubit Probs</div>
      </div>
      <div class="qt-nb-editor">
        <textarea class="qt-nb-code" id="qtnbCode_probability" spellcheck="false"></textarea>
      </div>
      <div class="qt-nb-actions">
        <button class="qt-nb-run" onclick="qtnbRun('probability')">‚ñ∂ Run Code</button>
        <button class="qt-nb-clear" onclick="qtnbClear('probability')">‚úï Clear</button>
      </div>
      <div class="qt-nb-output" id="qtnbOut_probability">// Output will appear here...</div>
    </div>
  </div>

</div>

<script>
(function(){
  const _examples_probability = [
`// Estimate probabilities from shots
function simulate(alpha, shots){
  const p0=alpha**2; let c0=0;
  for(let i=0;i<shots;i++) if(Math.random()<p0) c0++;
  return {measured: c0/shots, expected: p0, error: Math.abs(c0/shots-p0)};
}
const r=simulate(0.7, 1000);
console.log(\`Alpha=0.7 ‚Üí P(0)=\${r.expected.toFixed(3)}\`);
console.log(\`1000 shots measured: \${r.measured.toFixed(3)}\`);
console.log(\`Error: \${(r.error*100).toFixed(2)}%\`);`,
`// How accuracy improves with more shots
[10,100,1000,10000].forEach(n=>{
  const p0=0.5; let c0=0;
  for(let i=0;i<n;i++) if(Math.random()<p0) c0++;
  const measured=c0/n;
  const error=Math.abs(measured-p0);
  console.log(\`\${n} shots: P(0)=\${measured.toFixed(3)} (error=\${(error*100).toFixed(1)}%)\`);
});`,
`// 2-qubit system: |œà‚ü© = (|00‚ü©+|11‚ü©)/‚àö2 (Bell state)
const states=['|00‚ü©','|01‚ü©','|10‚ü©','|11‚ü©'];
const probs=[0.5, 0, 0, 0.5]; // Bell state probabilities
const shots=500; const counts=[0,0,0,0];
for(let i=0;i<shots;i++){
  const r=Math.random();
  let cum=0;
  for(let j=0;j<4;j++){cum+=probs[j]; if(r<cum){counts[j]++;break;}}
}
console.log('Bell state |Œ¶+‚ü© measurement:');
states.forEach((s,i)=>console.log(\`\${s}: \${counts[i]} shots (expected \${(probs[i]*shots).toFixed(0)})\`));`
];
  window.qtnbSetTab = window.qtnbSetTab || function(el,pg,idx){
    el.closest('[id^="qtnbTabs_"]').querySelectorAll('.qt-nb-tab').forEach(t=>t.classList.remove('active'));
    el.classList.add('active');
    document.getElementById('qtnbCode_'+pg).value=window['_nbex_'+pg][idx];
  };
  window['_nbex_probability'] = _examples_probability;
  window.qtnbRun = window.qtnbRun || function(pg){
    const code=document.getElementById('qtnbCode_'+pg).value;
    const out=document.getElementById('qtnbOut_'+pg);
    const logs=[]; const origLog=console.log;
    console.log=(...a)=>logs.push(a.map(x=>typeof x==='object'?JSON.stringify(x,null,2):String(x)).join(' '));
    try{
      new Function(code)();
      out.textContent=logs.join('\n')||'(no output)';
      out.className='qt-nb-output success';
    }catch(e){
      out.textContent='‚ùå Error: '+e.message;
      out.className='qt-nb-output error';
    }finally{console.log=origLog;}
  };
  window.qtnbClear = window.qtnbClear || function(pg){
    document.getElementById('qtnbCode_'+pg).value='';
    const out=document.getElementById('qtnbOut_'+pg);
    out.textContent='// Output will appear here...';
    out.className='qt-nb-output';
  };
  // Load first example by default
  if(document.readyState==='loading'){
    document.addEventListener('DOMContentLoaded',function(){
      document.getElementById('qtnbCode_probability').value=_examples_probability[0];
    });
  } else {
    document.getElementById('qtnbCode_probability').value=_examples_probability[0];
  }
})();
</script>

</body>
</html>
