$(document).ready(function(){var t,e,a,s,o=[],i=[],r=[],l=[],c=[],h=[],u=[],d=[],p=[],m=[],b=0,g=-1,f=0,x=-1,w=3,y=-1,C=1,v=$("#slider1"),T=$("#slider2"),M=$("#slider3"),k=1,S=.042426,q=[],U=[],I=[0,22.5,45,67.5,90],_=[],F=[],D=[1,.9253,.728553,.477953,.25],P=[0,.07322,.25,.426777,.5],A=[0,.001449,.0214466,.0952699,.25],B=[],N=[],G=[],H=[],W=[],z=[],L=["#01DF3A","#01B164","#00838f","#01A9DB","#01DFD7"],R=2,E=0,O=1.325,X=-1.325,Q=.05,Y=1,j=1,J=.5,K=0;gauss=0;var V,Z=0,tt=0;zerocounts=0;var et,at,st,ot,nt=[],it=1,rt=[20,20,20,20,20],lt=[!1,!1,!1,!1,!1],ct=0,ht=1,ut=[],dt=[],pt=[],mt=[],bt=2,gt=2,ft=0,xt=0,$t=0,wt=1,yt=new Image;yt.src="images/slider_handle11.png";var Ct=new Image;Ct.src="images/slider_handle22.png";var vt=[];vt[0]="How do quantum uncertainty, errors due to instrumental imperfections and statistical \t\t\tuncertainty differ from one another? Can quantum uncertainty ever be zero, and if so, \t\t\tunder what conditions? Then go on to the Challenges tab! ",vt[1]="A Stern-Gerlach apparatus (SGA) consists of a region of non-uniform magnetic field \t\t\taligned along a given axis. Particles passing \t\t\tthrough the SGA experience a force (and hence a deflection) that depends on the component \t\t\tof spin angular momentum along this axis. ",vt[2]="The graph shows the outcome distribution for S<sub>&theta;</sub> along the chosen axis \t\t\tof the SGA. For idealized perfect detectors, this is a histogram with probability on the vertical \t\t\taxis. With instrumental imperfections, it is a probability density histogram or curve. ",vt[3]="The quantum uncertainty &Delta;S<sub>&theta;</sub> is the standard deviation of the probability \t\t\tdistribution of the outcomes (e.g. the eigenvalues) <em>prior to</em> measurement. It is a measure of the spread of this outcome probability \t\t\tdistribution around the mean (e.g. around the expectation value &lang;S<sub>&theta;</sub>&rang; ). ",vt[4]="Instrumental imperfections are always present in a real experiment. They \t\t\tcould be due to a slight spread in angles and speed of the \t\t\tindicent beam particles, \t\t\tvariations in the magnetic field gradient, and the spatial resolution of the detection screen. ",vt[5]="Due to the probabilistic nature of the individual outcomes, your measured probabilities \t\t\tare in general only approximately equal to the theoretical ones. The more measurements you take, \t\t\tthe less on average your measured probabilities deviate from the theoretical ones. ",$("#radio1").prop("checked",!0),function(){for(t=0;t<I.length;t++)_[t]=Math.pow(Math.cos(I[t]*Math.PI/360),2),F[t]=1-_[t],H[t]=Math.pow(.5*_[t]-.5*F[t],2),G[t]=_[t]*Math.pow(.5,2)+F[t]*Math.pow(.5,2),B[t]=Math.sqrt(G[t]-H[t]),z[t]=Math.pow(D[t]-A[t],2),W[t]=D[t]+F[t],N[t]=Math.sqrt(W[t]-z[t])}();var Tt=$('<button id="submit" class="buttonClass buttonNarrowClass biggerRectangleButton">Submit</button>');$("#submitContainer").css("border","none").append(Tt);var Mt=$('<button id="hint" class="buttonClass buttonNarrowClass biggerRectangleButton">Hint</button>');$("#hintContainer").css("border","none").append(Mt);var kt=$('<button id="help0" name="0" class="buttonClass buttonHelpClass buttonHelpDefaultClass biggerHelpButton">?</button>');$("#help0Container").css("border","none").append(kt);var St=$('<button id="help1" name="1" class="buttonClass buttonHelpClass biggerHelpButton">?</button>');$("#help1Container").css("border","none").append(St);var qt=$('<button id="help2" name="2" class="buttonClass buttonHelpClass biggerHelpButton">?</button>');$("#help2Container").css("border","none").append(qt);var Ut=$('<button id="help3" name="3" class="buttonClass buttonHelpClass biggerHelpButton">?</button>');$("#help3Container").css("border","none").append(Ut);var It=$('<button id="help4" name="4" class="buttonClass buttonHelpClass biggerHelpButton">?</button>');$("#help4Container").css("border","none").append(It);var _t=$('<button id="help5" name="5" class="buttonClass buttonHelpClass biggerHelpButton">?</button>');for($("#help5Container").css("border","none").append(_t),$(kt).css("background-color","#48CBF7"),$("#hText").html(vt[0]),t=0;t<=3;t++)o[t]=new Image,o[t].src="images/Spin_Half_Angle0_Width"+t+".svg",i[t]=new Image,i[t].src="images/Spin_Half_Angle1_Width"+t+".svg",r[t]=new Image,r[t].src="images/Spin_Half_Angle2_Width"+t+".svg",l[t]=new Image,l[t].src="images/Spin_Half_Angle3_Width"+t+".svg",c[t]=new Image,c[t].src="images/Spin_Half_Angle4_Width"+t+".svg",h[t]=new Image,h[t].src="images/Spin_1_Angle0_Width"+t+".svg",u[t]=new Image,u[t].src="images/Spin_1_Angle1_Width"+t+".svg",d[t]=new Image,d[t].src="images/Spin_1_Angle2_Width"+t+".svg",p[t]=new Image,p[t].src="images/Spin_1_Angle3_Width"+t+".svg",m[t]=new Image,m[t].src="images/Spin_1_Angle4_Width"+t+".svg";function Ft(){1==C&&3!=w?Nt():1==C&&f>0&&3==w?function(){var a,s,o,n,i=S*f;for(q.length=0,U.length=0,o=F[b]/(i*Math.sqrt(Math.PI)),n=_[b]/(i*Math.sqrt(Math.PI)),t=X+.5*Q,e=0;t<O+1*Q;t+=Q/2,e++)q.push(""),a=-Math.pow((t+.5)/i,2),s=-Math.pow((t-.5)/i,2),U.push(o*Math.exp(a)+n*Math.exp(s));$("#sUncertText1").html("No statistical uncertainty: <span style='color: rgb(0, 143, 0)'>infinite counts</span>"),$("#sUncertText2").html(_[b].toFixed(3)+" of total counts in +&#295;/2 spot \t            (expected: "+_[b].toFixed(3)+")"),$("#sUncertText3").html(F[b].toFixed(3)+" of total counts in &ndash;&#295;/2 spot \t            (expected: "+F[b].toFixed(3)+")"),$("#sUncertText4").html("Change statistical uncertainty: Number of counts N = &infin;"),Bt()}():1==C&&0==f&&3==w?Nt():2==C&&3!=w?Ht():2==C&&f>0&&3==w?function(){var a,s,o,n,i,r,l=S*f;for(q.length=0,U.length=0,n=A[b]/(l*Math.sqrt(Math.PI)),i=P[b]/(l*Math.sqrt(Math.PI)),r=D[b]/(l*Math.sqrt(Math.PI)),t=X+.5*Q,e=0;t<O+1*Q;t+=Q/2,e++)q.push(""),a=-Math.pow((t+1)/l,2),s=-Math.pow(t/l,2),o=-Math.pow((t-1)/l,2),U.push(n*Math.exp(a)+i*Math.exp(s)+r*Math.exp(o));$("#sUncertText1").html("No statistical uncertainty: <span style='color: rgb(0, 143, 0)'>infinite counts</span>"),$("#sUncertText2b").html(D[b].toFixed(3)+" of total counts in +&#295; spot \t            (expected: "+D[b].toFixed(3)+")"),$("#sUncertText2c").html(P[b].toFixed(3)+" of total counts in 0 spot \t            (expected: "+P[b].toFixed(3)+")"),$("#sUncertText3b").html(A[b].toFixed(3)+" of total counts in &ndash;&#295; spot \t            (expected: "+A[b].toFixed(3)+")"),$("#sUncertText4").html("Change statistical uncertainty: Number of counts N = &infin;"),Bt()}():2==C&&0==f&&3==w&&Ht()}function Dt(){var t=v.data("val");e=T.data("val"),1==C?0==t?$("#SGA").attr("src",o[e].src):1==t?$("#SGA").attr("src",i[e].src):2==t?$("#SGA").attr("src",r[e].src):3==t?$("#SGA").attr("src",l[e].src):$("#SGA").attr("src",c[e].src):2==C&&(0==t?$("#SGA").attr("src",h[e].src):1==t?$("#SGA").attr("src",u[e].src):2==t?$("#SGA").attr("src",d[e].src):3==t?$("#SGA").attr("src",p[e].src):$("#SGA").attr("src",m[e].src))}function Pt(){var t=v.data("val");1==C?(0!=t?($("#qUncertText1a").html("Prob(+&#295;/2) = "+_[t].toFixed(2)),$("#qUncertText1b").html("Prob(&ndash;&#295;/2) = "+F[t].toFixed(2))):($("#qUncertText1a").html("Prob(+&#295;/2) = "+_[t].toFixed(0)),$("#qUncertText1b").html("Prob(&ndash;&#295;/2) = "+F[t].toFixed(0))),$("#qUncertText4").html("Change quantum uncertainty: SGA angle &theta; = "+I[t]+"&deg;"),0==t?($("#qUncertText2").html("<span style='color: rgb(0, 143, 0)'> Certain \t\t\t</span> of outcome +&#295;/2 <span style='color: #000099; font-weight: 700'> prior to</span> measurement"),$("#qUncertText3").html("&Delta;S<sub>&theta;</sub> <span style='color: rgb(0, 143, 0)'> = 0 </span>")):4==t?($("#qUncertText2").html("<span style='color: rgb(199, 26, 26)'> Maximally uncertain \t\t\t</span> of outcome <span style='color: #000099; font-weight: 700'> prior to</span> measurement"),$("#qUncertText3").html("&Delta;S<sub>&theta;</sub> = "+B[t].toFixed(2)+"&#295; <span style='color: rgb(199, 26, 26)'> >0 </span>")):($("#qUncertText2").html("<span style='color: rgb(199, 26, 26)'> Not certain \t\t\t</span> of outcome &pm;&#295;/2<span style='color: #000099; font-weight: 700'> prior to</span> measurement"),$("#qUncertText3").html("&Delta;S<sub>&theta;</sub> = "+B[t].toFixed(2)+"&#295; <span style='color: rgb(199, 26, 26)'> >0 </span>"))):2==C&&($("#qUncertText1c").html("Prob(&#295;) = "+D[t].toFixed(2)),$("#qUncertText1d").html("Prob(0) = "+P[t].toFixed(2)),0==t?($("#qUncertText1e").html("Prob(&ndash;&#295;) = "+A[t].toFixed(0)),$("#qUncertText1c").html("Prob(&#295;) = "+D[t].toFixed(0)),$("#qUncertText1d").html("Prob(0) = "+P[t].toFixed(0))):1==t?$("#qUncertText1e").html("Prob(&ndash;&#295;) = "+A[t].toFixed(3)):$("#qUncertText1e").html("Prob(&ndash;&#295;) = "+A[t].toFixed(2)),$("#qUncertText4").html("Change quantum uncertainty: SGA angle &theta; = "+I[t]+"&deg;"),0==t?($("#qUncertText2").html("<span style='color: rgb(0, 143, 0)'> Certain </span> of outcome +&#295; \t\t\t <span style='color: #000099; font-weight: 700'> prior to</span> measurement "),$("#qUncertText3").html("&Delta;S<sub>&theta;</sub> <span style='color: rgb(0, 143, 0)'> = 0 </span>")):($("#qUncertText2").html("<span style='color: rgb(199, 26, 26)'> Not certain </span> of outcome &pm;&#295;, 0\t\t\t   <span style='color: #000099; font-weight: 700'> prior to</span> measurement "),$("#qUncertText3").html("&Delta;S<sub>&theta;</sub> = "+N[t].toFixed(2)+"&#295; <span style='color: rgb(199, 26, 26)'> >0 </span>")))}function At(){var t=v.data("val"),e=T.data("val");0==t?$("#chartText1").html("Quantum uncertainty: &Delta;S<sub>&theta;</sub> = 0"):t>0&&1==C?$("#chartText1").html("Quantum uncertainty: &Delta;S<sub>&theta;</sub> = "+B[t].toFixed(2)+"&#295;"):t>0&&2==C&&$("#chartText1").html("Quantum uncertainty: &Delta;S<sub>&theta;</sub> = "+N[t].toFixed(2)+"&#295;"),0==e?$("#chartText2").html("Spot size due to instrumental imperfections: 0"):$("#chartText2").html("Spot size due to instrumental imperfections: "+(S*e/Math.sqrt(2)).toFixed(2)+"&#295;")}function Bt(){s.config.type="line",s.options.scales.y.position={x:52},s.options.scales.x.ticks.maxTicksLimit=20,s.data.datasets[0].borderColor=L[b],s.data.datasets[0].backgroundColor=L[b],0==f?s.options.scales.y.max=20:1==f?s.options.scales.y.max=14:2==f?s.options.scales.y.max=8:3==f&&(s.options.scales.y.max=6),s.update()}function Nt(){var a=v.data("val"),s=S*f/Math.sqrt(2);V=Math.ceil((O-X)/Q)+1;var o=Math.pow(10,w+2);for(Y=1,j=1,J=.5,K=0,gauss=0,Z=0,tt=0,q.length=0,U.length=0,t=X,e=0;t<O+.25*Q;t+=Q,e++)q.push("");if(0==s&&3==w){for(t=X;t<=O+.25*Q;t+=Q)t<-.5&&t+Q/2>-.5?U.push(20*F[b]):t<.5&&t+Q/2>.5?U.push(20*_[b]):U.push(0);$("#sUncertText1").html("No statistical uncertainty: <span style='color: rgb(0, 143, 0)'>infinite counts</span>"),$("#sUncertText2").html(_[a].toFixed(3)+" of total counts in +&#295;/2 spot \t            (expected: "+_[a].toFixed(3)+")"),$("#sUncertText3").html(F[a].toFixed(3)+" of total counts in &ndash;&#295;/2 spot \t            (expected: "+F[a].toFixed(3)+")"),$("#sUncertText4").html("Change statistical uncertainty: Number of counts N = &infin;")}else{for(t=0;t<V;t++)nt[t]=0;for(t=0;t<o/2;t++){for(;Y*Y+j*j>1;)Y=2*Math.random()-1,j=2*Math.random()-1;K=Y*Y+j*j,gauss=s*Math.sqrt(-2*Math.log(K)/K)*Y,(J=Math.random())<_[a]?(Z++,gauss+=.5):(tt++,gauss-=.5),nt[Math.floor((gauss-X)/Q)]++,gauss=s*Math.sqrt(-2*Math.log(K)/K)*j,(J=Math.random())<_[a]?(Z++,gauss+=.5):(tt++,gauss-=.5),nt[Math.floor((gauss-X)/Q)]++,Y=1,j=1}for(t=0;t<V;t++)nt[t]/=o*Q;for($("#sUncertText1").html("Uncertainty due to <span style='color: rgb(199, 26, 26)'>finite number of counts</span> N"),$("#sUncertText2").html((Z/o).toFixed(3)+" of total counts in +&#295;/2 spot \t            (expected: "+_[a].toFixed(3)+")"),$("#sUncertText3").html((tt/o).toFixed(3)+" of total counts in &ndash;&#295;/2 spot \t            (expected: "+F[a].toFixed(3)+")"),w<3?$("#sUncertText4").html("Change statistical uncertainty: Number of counts N = \t10<sup>"+(w+2)+"</sup>"):$("#sUncertText4").html("Change statistical uncertainty: Number of counts N = &infin;"),e=0;e<V;e++)U.push(nt[e])}Gt()}function Gt(){s.config.type="bar",s.options.scales.y.position={x:26},s.options.datasets.bar.borderColor=L[b],s.options.datasets.bar.backgroundColor=L[b],s.data.datasets[0].borderColor=L[b],s.data.datasets[0].backgroundColor=L[b],s.options.borderColor=L[b],s.options.backgroundColor=L[b],0==f?s.options.scales.y.max=20:1==f?s.options.scales.y.max=14:2==f?s.options.scales.y.max=8:3==f&&(s.options.scales.y.max=6),s.update()}function Ht(){var a=v.data("val"),s=S*f/Math.sqrt(2);for(V=Math.ceil((O-X)/Q)+1,n=Math.pow(10,w+2),Y=1,j=1,J=.5,K=0,gauss=0,Z=0,zerocounts=0,tt=0,q.length=0,U.length=0,t=X,e=0;t<=O+.25*Q;t+=Q,e++)q.push("");if(0==s&&3==w){for(t=X;t<=O+.25*Q;t+=Q)t<-1&&t+Q/2>-1?U.push(20*A[b]):t<0&&t+Q/2>0?U.push(20*P[b]):t<1&&t+Q/2>1?U.push(20*D[b]):U.push(0);$("#sUncertText1").html("No statistical uncertainty: <span style='color: rgb(0, 143, 0)'>infinite counts</span>"),$("#sUncertText2b").html(D[a].toFixed(3)+" of total counts in +&#295; spot \t            (expected: "+D[a].toFixed(3)+")"),$("#sUncertText2c").html(P[a].toFixed(3)+" of total counts in 0 spot \t            (expected: "+P[a].toFixed(3)+")"),$("#sUncertText3b").html(A[a].toFixed(3)+" of total counts in &ndash;&#295; spot \t            (expected: "+A[a].toFixed(3)+")"),$("#sUncertText4").html("Change statistical uncertainty: Number of counts N = &infin;")}for(t=0;t<V;t++)nt[t]=0;for(t=0;t<n/2;t++){for(;Y*Y+j*j>1;)Y=2*Math.random()-1,j=2*Math.random()-1;K=Y*Y+j*j,gauss=s*Math.sqrt(-2*Math.log(K)/K)*Y,(J=Math.random())<D[a]?(Z++,gauss+=1):J<D[a]+P[a]?zerocounts++:(tt++,gauss-=1),nt[Math.floor((gauss-X)/Q)]++,gauss=s*Math.sqrt(-2*Math.log(K)/K)*j,(J=Math.random())<D[a]?(Z++,gauss+=1):J<D[a]+P[a]?zerocounts++:(tt++,gauss-=1),nt[Math.floor((gauss-X)/Q)]++,Y=1,j=1}for(t=0;t<V;t++)nt[t]/=n*Q;for($("#sUncertText1").html("Uncertainty due to <span style='color: rgb(199, 26, 26)'>finite number of counts</span> N"),$("#sUncertText2b").html((Z/n).toFixed(3)+" of total counts in +&#295; spot \t            (expected: "+D[a].toFixed(3)+")"),$("#sUncertText2c").html((zerocounts/n).toFixed(3)+" of total counts in 0 spot \t            (expected: "+P[a].toFixed(3)+")"),$("#sUncertText3b").html((tt/n).toFixed(3)+" of total counts in &ndash;&#295; spot \t            (expected: "+A[a].toFixed(3)+")"),w<3?$("#sUncertText4").html("Change statistical uncertainty: Number of counts N = \t10<sup>"+(w+2)+"</sup>"):$("#sUncertText4").html("Change statistical uncertainty: Number of counts N = &infin;"),e=0;e<V;e++)U.push(nt[e]);Gt()}function Wt(){var e,a,s,o,n,i,r;for(ut.length=0,pt.length=0,ft=Math.ceil(3*Math.random()),3==it&&(ft=1),n=.5/((e=S*ft)*Math.sqrt(Math.PI)),i=0/(e*Math.sqrt(Math.PI)),r=.5/(e*Math.sqrt(Math.PI)),t=X+.5*Q;t<O+1*Q;t+=Q/2)ut.push(""),a=-Math.pow((t+1)/e,2),s=-Math.pow(t/e,2),o=-Math.pow((t-1)/e,2),pt.push(n*Math.exp(a)+i*Math.exp(s)+r*Math.exp(o));null!=at&&at.destroy(),et=document.getElementById("chart2").getContext("2d"),at=new Chart(et,{type:"line",data:{labels:ut,datasets:[{label:"Dataset 1",data:pt,backgroundColor:L[0],borderColor:L[0],fill:!0,borderWidth:1.5,cubicInterpolationMode:"monotone",tension:.4,borderDash:[]}]},options:{animation:!1,responsive:!0,scales:{y:{position:{x:52},min:0,ticks:{stepSize:2,callback:function(t,e,a){return""}},grid:{borderColor:"#000099"}},x:{grid:{borderColor:"#000099"},ticks:{maxTicksLimit:20}}}}}),0==ft?at.options.scales.y.max=20:1==ft?at.options.scales.y.max=14:2==ft?at.options.scales.y.max=8:3==ft&&(at.options.scales.y.max=6),at.options.aspectRatio=bt*wt,at.update("none")}function zt(){var e,a,s,o,n,i,r;for(dt.length=0,mt.length=0,xt=Math.ceil(3*Math.random()),3==it&&(xt=3),n=1/3/((e=S*xt)*Math.sqrt(Math.PI)),i=1/3/(e*Math.sqrt(Math.PI)),r=1/3/(e*Math.sqrt(Math.PI)),t=X+.5*Q;t<O+1*Q;t+=Q/2)dt.push(""),a=-Math.pow((t+1)/e,2),s=-Math.pow(t/e,2),o=-Math.pow((t-1)/e,2),mt.push(n*Math.exp(a)+i*Math.exp(s)+r*Math.exp(o));null!=ot&&ot.destroy(),st=document.getElementById("chart3").getContext("2d"),ot=new Chart(st,{type:"line",data:{labels:dt,datasets:[{label:"Dataset 1",data:mt,backgroundColor:L[0],borderColor:L[0],fill:!0,borderWidth:1.5,cubicInterpolationMode:"monotone",tension:.4,borderDash:[]}]},options:{animation:!1,responsive:!0,scales:{y:{position:{x:52},min:0,ticks:{stepSize:2,callback:function(t,e,a){return""}},grid:{borderColor:"#000099"}},x:{grid:{borderColor:"#000099"},ticks:{maxTicksLimit:20}}}}}),0==xt?ot.options.scales.y.max=20:1==xt?ot.options.scales.y.max=14:2==xt?ot.options.scales.y.max=8:3==xt&&(ot.options.scales.y.max=6),ot.options.aspectRatio=bt*wt,ot.update("none")}function Lt(){for($("#radioC0").prop("checked",!0),$(".cArrow").hide(),$("#feedbackText").hide(),$(".radioButtonText").show(),t=1;t<=4;t++)$("#radioC"+t+"Container").show();switch(4==it?($("#chart2XLabel").html("S<sub>x</sub>"),$("#chart3XLabel").html("S<sub>x</sub>")):($("#chart2XLabel").html("S<sub>&theta;</sub>"),$("#chart3XLabel").html("S<sub>&theta;</sub>")),5==it?$("#cpanel4").hide():$("#challengesTab").hasClass("selectedTab")&&it<5&&$("#cpanel4").show(),it<=3?($("#cpanel3Title").html("Graph A"),$("#cpanel4Title").html("Graph B")):($("#cpanel3Title").html("Histogram A"),$("#cpanel4Title").html("Histogram B")),it){case 1:$("#challengesText").html("Graph A shows the outcomes of a Stern-Gerlach experiment \t\t\t\twith spin 1/2 particles all in the same initial state |&psi;<sub>A</sub>&rang;, and \t\t\t\tGraph B the outcomes for particles all in the same initial state \t\t\t\t|&psi;<sub>B</sub>&rang;. Which of these two initial quantum states has \t\t\t\tthe <span style='font-weight: 700'>larger quantum uncertainty </span>with respect to S<sub>&theta;</sub>?"),$("#labelC1").html("Initial state |&psi;<sub>A</sub>&rang;"),$("#labelC2").html("Initial state |&psi;<sub>B</sub>&rang;"),$("#labelC3").html("Both states have the same quantum uncertainty").css("width","80%"),$("#labelC3Container").css("width","75%"),$("#radioC4Container").hide(),$("#labelC4").hide(),function(){var a,s,o,n,i;for(ft=Math.ceil(3*Math.random()),xt=ft;xt==ft;)xt=Math.ceil(3*Math.random());for($t=4,ut.length=0,pt.length=0,mt.length=0,a=S*ft,n=F[$t]/(a*Math.sqrt(Math.PI)),i=_[$t]/(a*Math.sqrt(Math.PI)),t=X+.5*Q,e=0;t<O+1*Q;t+=Q/2,e++)ut.push(""),s=-Math.pow((t+.5)/a,2),o=-Math.pow((t-.5)/a,2),pt.push(n*Math.exp(s)+i*Math.exp(o));for(a=S*xt,n=F[$t]/(a*Math.sqrt(Math.PI)),i=_[$t]/(a*Math.sqrt(Math.PI)),t=X+.5*Q,e=0;t<O+1*Q;t+=Q/2,e++)s=-Math.pow((t+.5)/a,2),o=-Math.pow((t-.5)/a,2),mt.push(n*Math.exp(s)+i*Math.exp(o));null!=at&&at.destroy(),et=document.getElementById("chart2").getContext("2d"),at=new Chart(et,{type:"line",data:{labels:ut,datasets:[{label:"Dataset 1",data:pt,backgroundColor:L[0],borderColor:L[0],fill:!0,borderWidth:1.5,cubicInterpolationMode:"monotone",tension:.4,borderDash:[]}]},options:{animation:!1,responsive:!0,scales:{y:{position:{x:52},min:0,ticks:{stepSize:2,callback:function(t,e,a){return""}},grid:{borderColor:"#000099"}},x:{grid:{borderColor:"#000099"},ticks:{maxTicksLimit:20}}}}}),0==ft?at.options.scales.y.max=20:1==ft?at.options.scales.y.max=14:2==ft?at.options.scales.y.max=8:3==ft&&(at.options.scales.y.max=6),at.options.aspectRatio=bt*wt,at.update("none"),null!=ot&&ot.destroy(),st=document.getElementById("chart3").getContext("2d"),ot=new Chart(st,{type:"line",data:{labels:ut,datasets:[{label:"Dataset 1",data:mt,backgroundColor:L[0],borderColor:L[0],fill:!0,borderWidth:1.5,cubicInterpolationMode:"monotone",tension:.4,borderDash:[]}]},options:{animation:!1,responsive:!0,scales:{y:{position:{x:52},min:0,ticks:{stepSize:2,callback:function(t,e,a){return""}},grid:{borderColor:"#000099"}},x:{grid:{borderColor:"#000099"},ticks:{maxTicksLimit:20}}}}}),0==xt?ot.options.scales.y.max=20:1==xt?ot.options.scales.y.max=14:2==xt?ot.options.scales.y.max=8:3==xt&&(ot.options.scales.y.max=6),ot.options.aspectRatio=gt*wt,ot.update("none")}();break;case 2:$("#challengesText").html("Graph A shows the outcomes of a Stern-Gerlach experiment \t\t\t\twith spin 1 particles all in the same initial state |&psi;<sub>A</sub>&rang;, and \t\t\t\tGraph B the outcomes for particles all in the same initial state \t\t\t\t|&psi;<sub>B</sub>&rang;. Which of these two initial quantum states has \t\t\t\tthe <span style='font-weight: 700'>larger quantum uncertainty </span>with respect to S<sub>&theta;</sub>?"),$("#labelC1").html("Initial state |&psi;<sub>A</sub>&rang;"),$("#labelC2").html("Initial state |&psi;<sub>B</sub>&rang;"),$("#labelC3").html("Both states have the same quantum uncertainty").css("width","80%"),$("#labelC3Container").css("width","75%"),$("#radioC4Container").hide(),$("#labelC4").hide(),Wt(),zt();break;case 3:$("#challengesText").html("Graph A shows the outcomes of a Stern-Gerlach experiment \t\t\t\twith spin 1 particles all in the same initial state |&psi;<sub>A</sub>&rang;, and \t\t\t\tGraph B the outcomes for particles all in the same initial state \t\t\t\t|&psi;<sub>B</sub>&rang;. Which of these two experiments had  \t\t\t\t<span style='font-weight: 700'>greater instrumental imperfections </span>\t\t\t\tas seen from the outcome distributions?"),$("#labelC1").html("Experiment A"),$("#labelC2").html("Experiment B"),$("#labelC3").html("Both experiments had the same instrumental imperfections").css("width","80%"),$("#labelC3Container").css("width","75%"),$("#radioC4Container").hide(),$("#labelC4").hide(),Wt(),zt();break;case 4:$("#challengesText").html("Consider spin 1/2 particles each in the input state spin-up \t\t\talong x that are sent through a Stern-Gerlach experiment oriented along the \t\t\tx-axis (e.g. at &theta; = 90&deg;). Which of the two histograms shows the outcomes \t\t\tof this experiment, and is the quantum uncertainty &Delta;S<sub>x</sub> zero or non-zero?  "),$("#labelC1").html("Histogram A and &Delta;S<sub>x</sub> = 0 "),$("#labelC2").html("Histogram A and &Delta;S<sub>x</sub> > 0  "),$("#labelC3").html("Histogram B and &Delta;S<sub>x</sub> = 0  ").css("width","45%"),$("#labelC3Container").css("width","40%"),$("#radioC4Container").show(),$("#labelC4").show().html("Histogram B and &Delta;S<sub>x</sub> > 0 "),function(){for(ut.length=0,pt.length=0,mt.length=0,t=X,e=0;t<O+.25*Q;t+=Q,e++)ut.push(""),t<-.5&&t+Q/2>-.5?pt.push(10):t<.5&&t+Q/2>.5?(pt.push(10),mt.push(20)):(pt.push(0),mt.push(0));null!=at&&at.destroy(),et=document.getElementById("chart2").getContext("2d"),(at=new Chart(et,{type:"bar",data:{labels:ut,datasets:[{label:"Dataset 1",data:pt,borderColor:L[0],backgroundColor:L[0],borderWidth:1.5,cubicInterpolationMode:"monotone",tension:.4,borderDash:[],fill:!0}]},options:{animation:!1,responsive:!0,scales:{y:{ticks:{stepSize:2,callback:function(t,e,a){return""}},grid:{borderColor:"#000099"}},x:{grid:{borderColor:"#000099"}}}}})).options.datasets.bar.barPercentage=.95,at.options.datasets.bar.categoryPercentage=1,at.options.aspectRatio=bt*wt,at.options.scales.y.min=0,at.options.scales.y.max=20,at.options.scales.y.position={x:26},at.options.scales.x.ticks.maxTicksLimit=16,at.update("none"),null!=ot&&ot.destroy(),st=document.getElementById("chart3").getContext("2d"),(ot=new Chart(st,{type:"bar",data:{labels:ut,datasets:[{label:"Dataset 1",data:mt,borderColor:L[0],backgroundColor:L[0],borderWidth:1.5,cubicInterpolationMode:"monotone",tension:.4,borderDash:[],fill:!0}]},options:{animation:!1,responsive:!0,scales:{y:{ticks:{stepSize:2,callback:function(t,e,a){return""}},grid:{borderColor:"#000099"}},x:{grid:{borderColor:"#000099"}}}}})).options.datasets.bar.barPercentage=.95,ot.options.datasets.bar.categoryPercentage=1,ot.options.aspectRatio=bt*wt,ot.options.scales.y.min=0,ot.options.scales.y.max=20,ot.options.scales.y.position={x:26},ot.options.scales.x.ticks.maxTicksLimit=16,ot.update("none")}();break;case 5:$("#challengesText").html("The histogram shows the outcomes of a Stern-Gerlach experiment \t\t\twith spin 1/2 particles each in the same input state. The dashed line is the expectation value \t\t\t&lang;S<sub>&theta;</sub>&rang;. Superposed on the histogram are two horizontal arrows. \t\t\tWhat, if anything, do these arrows represent? "),$("#labelC1").html("The quantum uncertainty &Delta;S<sub>&theta;</sub>"),$("#labelC2").html("Measurement errors due to instrumental imperfections"),$("#labelC3").html("Neither the quantum uncertainty nor the errors due to instrumental imperfections").css("width","80%"),$("#labelC3Container").css("width","75%"),$("#radioC4Container").hide(),$("#labelC4").hide(),function(){for(ut.length=0,pt.length=0,ft=Math.ceil(3*Math.random()),t=X;t<O+.25*Q;t+=Q)ut.push(""),t<-.5&&t+Q/2>-.5?pt.push(20*F[ft]):t<.5&&t+Q/2>.5?pt.push(20*_[ft]):pt.push(0);null!=at&&at.destroy(),et=document.getElementById("chart2").getContext("2d"),(at=new Chart(et,{type:"bar",data:{labels:ut,datasets:[{label:"Dataset 1",data:pt,borderColor:L[0],backgroundColor:L[0],borderWidth:1.5,cubicInterpolationMode:"monotone",tension:.4,borderDash:[],fill:!0}]},options:{animation:!1,responsive:!0,scales:{y:{ticks:{stepSize:2,callback:function(t,e,a){return""}},grid:{borderColor:"#000099"}},x:{grid:{borderColor:"#000099"}}}}})).options.datasets.bar.barPercentage=.95,at.options.datasets.bar.categoryPercentage=1,at.options.aspectRatio=bt*wt,at.options.scales.y.min=0,at.options.scales.y.max=20,at.options.scales.y.position={x:26},at.options.scales.x.ticks.maxTicksLimit=16,at.update("none"),1==ft?($("#arrow11").show(),$("#arrow12").show(),$("#dashedLine").css("left","65.3%").show()):2==ft?($("#arrow21").show(),$("#arrow22").show(),$("#dashedLine").css("left","62%").show()):3==ft&&($("#arrow31").show(),$("#arrow32").show(),$("#dashedLine").css("left","55%").show())}()}}function Rt(t,e){var a=$(t).data("min"),s=(e-a)/($(t).data("max")-a)*($(t).hasClass("vertical")?$(t).children().height():$(t).children().width());$(t).find(".handle").css($(t).hasClass("vertical")?"top":"left",s+"px"),$(t).data("val",e)}function Et(){var a,o;for(e=0;e<=1;e++)if((a=document.documentElement.clientWidth/document.documentElement.clientHeight)>1.4&&a<2.2){for(wt=a/1.94,o=43.165/a,o+="vw",$(".cardPanel, .helpPanel").each(function(){$(this).css("height",o)}),o=7.76/a,o+="vw",$(".headerPanel").css("height",o),o=98.94/a,o+="vw",$(".simContainer").css("height",o),o=9.7/a,o+="vw",t=1;t<=3;t++)$("#panel"+t).css("top",o);for(o=53.835/a,o+="vw",t=4;t<=6;t++)$("#panel"+t).css("top",o);$("#togglePanel5").css("top",o),$("#togglePanel6").css("top",o),null!=s&&(s.options.aspectRatio=R*a/1.94,s.update("none")),null!=at&&(at.options.aspectRatio=bt*a/1.94,at.update("none")),null!=ot&&(ot.options.aspectRatio=gt*a/1.94,ot.update("none")),$("#cpanel1").css("top",9.7/a+"vw"),$("#cpanel1").css("height",75.66/a+"vw"),$("#cpanel2").css("top",87.3/a+"vw"),$("#cpanel2").css("height",9.7/a+"vw"),$("#cpanel3").css("top",9.7/a+"vw"),$("#cpanel3").css("height",36.86/a+"vw"),$("#cpanel4").css("top",48.5/a+"vw"),$("#cpanel4").css("height",36.86/a+"vw"),$("#correct").css("top",106.7/a+"vw"),$("#welldone").css("top",106.7/a+"vw"),$("#excellent").css("top",106.7/a+"vw"),o=3.104/a,$(".challengesText").each(function(){$(this).css("line-height",o)}),o=2.328/a,$("#helpText").css("line-height",o),o=34.92/a,o+="vw",$("#svgContainer").css("height",o),o=98.94/a,o+="vw",$("#simContainer").css("height",o)}}function Ot(t){$(t).hasClass("slider")&&($(t).on("mouseover",function(){$(this).find(".handle").attr("src",Ct.src)}),$(t).on("mousedown touchstart",function(){$(this).addClass("active"),$(this).find(".handle").attr("src",Ct.src)}),$(t).on("mouseout touchend mouseup",function(){$(this).find(".handle").attr("src",yt.src)}))}$(".slider").each(function(){if($(this).attr("class").match(/min_(\d+)/))var t=1*$(this).attr("class").match(/min_(\d+)/)[1];else var t=0;if($(this).attr("class").match(/max_\d+/))var e=1*$(this).attr("class").match(/max_(\d+)/)[1];else var e=100;if($(this).attr("class").match(/snap_\d+/))var a=1*$(this).attr("class").match(/snap_(\d+)/)[1];else var a=1;if($(this).attr("class").match(/val_\d+/))var s=1*$(this).attr("class").match(/val_(\d+)/)[1];else var s=t;$(this).data("min",t),$(this).data("max",e),$(this).data("snap",a),$(this).data("default",s),Rt(this,void 0===$(this).data("val")?s:$(this).data("val"))}),Ot($("#slider1")),$(document).on("mousedown mousemove touchstart touchmove",function(t){v.hasClass("active")&&!v.data("timeout")&&v.data("timeout",setTimeout(function(){v.data("timeout",!1),v.data("timeout_val",v.data("val")),(b=v.data("val"))!=g&&(Dt(),Pt(),At(),Ft()),g=b},20))}),Ot($("#slider2")),$(document).on("mousedown mousemove touchstart touchmove",function(t){T.hasClass("active")&&!T.data("timeout")&&T.data("timeout",setTimeout(function(){var t;T.data("timeout",!1),T.data("timeout_val",T.data("val")),(f=T.data("val"))!=x&&(Dt(),0==(t=T.data("val"))?($("#iUncertText1").html("<span style='color: rgb(0, 143, 0)'>Perfect </span> apparatus and detector "),$("#iUncertText3").html("many measurements:<span style='color: rgb(0, 143, 0)'> 0</span>"),$("#iUncertText4").html("Change instrumental imperfections: &sigma; = 0")):($("#iUncertText1").html("<span style='color: rgb(199, 26, 26)'>Imperfect </span> apparatus and detector "),$("#iUncertText3").html("many measurements: "+(S*t/Math.sqrt(2)).toFixed(2)+"&#295;<span style='color: rgb(199, 26, 26)'> >0 </span>"),$("#iUncertText4").html("Change instrumental imperfections: &sigma; = "+(S*t/Math.sqrt(2)).toFixed(2)+"&#295;")),At(),Ft()),x=f},20))}),Ot($("#slider3")),$(document).on("mousedown mousemove touchstart touchmove",function(t){M.hasClass("active")&&!M.data("timeout")&&M.data("timeout",setTimeout(function(){M.data("timeout",!1),M.data("timeout_val",M.data("val")),(w=M.data("val"))!=y&&Ft(),y=w},20))}),function(){for(Chart.defaults.plugins.legend.display=!1,Chart.defaults.color="white",Chart.defaults.font.size=2,Chart.defaults.plugins.tooltip.enabled=!1,Chart.defaults.elements.point.radius=0,t=X;t<=O+.25*Q;t+=Q)q.push("");a=document.getElementById("chart1").getContext("2d"),(s=new Chart(a,{type:"bar",data:{labels:q,datasets:[{label:"Dataset 1",data:U,borderColor:L[0],backgroundColor:L[0],borderWidth:1.5,cubicInterpolationMode:"monotone",tension:.4,borderDash:[],fill:!0}]},options:{animation:!1,responsive:!0,scales:{y:{ticks:{stepSize:2,callback:function(t,e,a){return""}},grid:{borderColor:"#000099"}},x:{grid:{borderColor:"#000099"}}}}})).options.datasets.bar.barPercentage=.87,s.options.datasets.bar.categoryPercentage=1,s.options.aspectRatio=R*wt,s.options.scales.y.min=0,s.options.scales.y.position={x:26},s.options.scales.x.ticks.maxTicksLimit=16}(),Nt(),$(".buttonToggleClass").each(function(){$(this).html("&#9660;").addClass("toggleButtonText")}),$(".buttonToggleClass").on("tap click",function(){var e="#"+(t=$(this).attr("id")),a="#panel"+(t=t.match(/\d+/)),s="togglePanel"+t;$(a).is(":hidden")?(E+=Number(t),$(this).removeClass(s),$(this).addClass("togglePanelNoText"),$(a).show(300,function(){$(e).html("&#9650;").addClass("toggleButtonText"),6==t&&1==k&&(Rt(M,3),k=0)})):(E-=Number(t),$(this).removeClass("togglePanelNoText"),$(a).hide(300,function(){$(e).html("&#9660;").addClass("toggleButtonText")}),$(this).addClass(s))}),$(".buttonHelpClass").on("tap click",function(){var t=$(".buttonClass").css("color");$("#hText").hide(),$(".buttonHelpClass").css("background-color",t),$(kt).css("background-color","white"),$(this).css("background-color","#48CBF7"),$("#hText").fadeIn("fast").html(vt[$(this).attr("name")])}),$("#hclose").on("tap click",function(){$("#hText").fadeOut(200)}),$("[name=radio]").on("change",function(){1==(C=$("input[name=radio]:checked").val())?($("#qUncertText1a").show(),$("#qUncertText1b").show(),$("#qUncertText1c").hide(),$("#qUncertText1d").hide(),$("#qUncertText1e").hide(),$("#sUncertText2").show(),$("#sUncertText3").show(),$("#sUncertText2b").hide(),$("#sUncertText2c").hide(),$("#sUncertText3b").hide(),Nt()):($("#qUncertText1a").hide(),$("#qUncertText1b").hide(),$("#qUncertText1c").show(),$("#qUncertText1d").show(),$("#qUncertText1e").show(),$("#sUncertText2").hide(),$("#sUncertText3").hide(),$("#sUncertText2b").show(),$("#sUncertText2c").show(),$("#sUncertText3b").show(),Ht()),Dt(),At(),Pt(),Ft()}),it=1,$("#step1").addClass("buttonStepActive"),$("#feedbackText").hide(),$(".greenTicksClass").hide(),$(".challenges").hide(),Lt(),$("#hint").on("tap click",function(){var t=$("#feedbackText");switch(t.css("color","#000099"),t.hide(),it){case 1:$("#feedbackText").fadeOut("fast"),$("#feedbackText").html("Recall that quantum uncertainty relates to the outcomes \t\t\t+&#295;/2 and &ndash;&#295;/2, the eigenvalues of the S<sub>&theta;</sub> operator \t\t\tfor a spin 1/2 particle, and their probabilities prior to measurement. ").fadeIn("fast");break;case 2:$("#feedbackText").fadeOut("fast"),$("#feedbackText").html("Recall that quantum uncertainty &Delta;S<sub>&theta;</sub> \t\t\there relates to the outcomes &pm;&#295; and 0, and is a measure of the spread of the \t\t\tprobability distribution of these outcomes around the mean. ").fadeIn("fast");break;case 3:$("#feedbackText").fadeOut("fast"),$("#feedbackText").html("Recall that instrumental imperfections relate to e.g. the \t\t\tincident beam having a small angular spread and range of speeds, or slight variations \t\t\tin the magnetic field gradient, leading to slight variations in the force deflecting \t\t\tthe particles in the Stern-Gerlach apparatus. ").fadeIn("fast");break;case 4:$("#feedbackText").fadeOut("fast"),$("#feedbackText").html("Consider what outcomes for S<sub>x</sub> are possible if the \t\t\tinput particle is in a spin-up state along x (e.g. in an eigenstate of the \t\t\tS<sub>x</sub> operator). ").fadeIn("fast");break;case 5:$("#feedbackText").fadeOut("fast"),$("#feedbackText").html("Recall that quantum uncertainty &Delta;S<sub>&theta;</sub> here \t\t\trelates to the outcomes &pm;&#295;/2, and is a measure of the spread of the \t\t\tprobability distribution of these outcomes around the mean. ").fadeIn("fast")}}),$("#submit").on("tap click",function(){var e,a,s,o,n,i=$("#feedbackText"),r=function(){var t={correct:!1,feedback_str:"Please choose an option."},e=$("input[name=radioC]:checked").val();if(e=Number(e),1==it)switch(e){case 1:case 2:t.feedback_str="This is not yet correct. The broadening of the spots around the \t\t\texact values &pm;&#295;/2 (the eigenvalues of the S<sub>&theta;</sub> operator for a \t\t\tspin 1/2 particle) is due to instrumental imperfections, which are unrelated to \t\t\tthe quantum uncertainty. ";break;case 3:t.feedback_str="Correct, congratulations! The quantum uncertainty \t\t\t&Delta;S<sub>&theta;</sub> is wholly determined by the outcomes &pm;&#295;/2 and their \t\t\tprobabilities prior to measurement. The broadening of the spots around the exact values \t\t\t&pm;&#295;/2 is due to instrumental imperfections, which are unrelated to \t\t\tthe quantum uncertainty. ",t.correct=!0}else if(2==it)switch(e){case 1:t.feedback_str="Correct, congratulations! The distribution where only outcomes \t\t\tof &pm;&#295; are possible, each with 50% probability, has a greater standard deviation \t\t\twith respect to the mean (namely \t\t\t<span style='white-space: nowrap'>&Delta;S<sub>&theta;</sub> = &#295;</span>) compared with the \t\t\tprobability distribution where each of the three outcomes has one third probability \t\t\t(namely <span style='white-space: nowrap'>&Delta;S<sub>&theta;</sub> &approx; 0.82&#295;</span>). ",t.correct=!0;break;case 2:case 3:t.feedback_str="This is not yet correct. The quantum uncertainty \t\t\t&Delta;S<sub>&theta;</sub> is a measure of the spread of the outcome probability \t\t\tdistribution around the mean. Here, the outcomes are &pm;&#295; and 0, the eigenvalues \t\t\tof the S<sub>&theta;</sub> operator for a spin 1 particle, and the mean is \t\t\t<span style='white-space: nowrap'>&lang;S<sub>&theta;</sub>&rang; = 0.</span>"}else if(3==it)switch(e){case 3:case 1:t.feedback_str="This is not yet correct. Instrumental imperfections relate to \t\t\te.g. the incident beam having a small angular spread and range of speeds, or slight \t\t\tvariations in the magnetic field gradient. These imperfections will lead to slight \t\t\tvariations in the force deflecting the particles in the Stern-Gerlach apparatus, and \t\t\tthus lead to a broadening of each of the spots on the screen. ";break;case 2:t.feedback_str="Correct, congratulations! Instrumental imperfections relate to \t\t\te.g. the incident beam having a small angular spread and range of speeds, or slight \t\t\tvariations in the magnetic field gradient. These imperfections will lead to slight \t\t\tvariations in the force deflecting the particles in the Stern-Gerlach apparatus. Thus, \t\t\tthe broader each of the spots, the greater the instrumental imperfections.  ",t.correct=!0}else if(4==it)switch(e){case 2:case 4:t.feedback_str="This is not yet correct. For the particle in a spin-up state \t\t\talong x (e.g. an eigenstate of the S<sub>x</sub> operator), we can with certainty \t\t\tpredict the outcome of S<sub>x</sub> prior to measurement. What does this imply \t\t\tfor the quantum uncertainty &Delta;S<sub>x</sub>? ";break;case 1:t.feedback_str="This is not yet correct. For the particle in a spin-up state \t\t\talong x (e.g. an eigenstate of the S<sub>x</sub> operator), only one value of \t\t\tS<sub>x</sub> is possible, namely the eigenvalue +&#295;/2.  ";break;case 3:t.feedback_str="Correct, congratulations! For the particle in a spin-up \t\t\tstate along x (e.g. an eigenstate of the S<sub>x</sub> operator), we can with \t\t\tcertainty predict the outcome \t\t\t<span style='white-space: nowrap'>S<sub>x</sub> = +&#295;/2</span> prior to \t\t\tmeasurement. This implies that the quantum uncertainty \t\t\t<span style='white-space: nowrap'>&Delta;S<sub>x</sub> = 0.</span> ",t.correct=!0}else if(5==it)switch(e){case 1:t.feedback_str="Correct, congratulations! The arrows have the length of \t\t\t&pm;&Delta;S<sub>&theta;</sub>, and the quantum uncertainty is a measure of the spread \t\t\tof the probability distribution of these outcomes around the mean, e.g. around \t\t\tthe expectation value &lang;S<sub>&theta;</sub>&rang;. Thus, the arrows  \t\t\tlead outwards from &lang;S<sub>&theta;</sub>&rang;.  ",t.correct=!0;break;case 2:t.feedback_str="This is not yet correct. This histogram assumes that \t\t\tperfect detectors were used. The spread of the spots due to instrumental imperfections \t\t\twould be shown graphically as arrows around each of the outcomes, with a \t\t\tlength given by the standard deviation of the spot size.  ";break;case 3:t.feedback_str="This is not yet correct. The arrows represent \t\t\t&pm;&Delta;S<sub>&theta;</sub>, and the quantum uncertainty is a measure of the spread of \t\t\tthe probability distribution of these outcomes around the mean. Consider where the mean \t\t\twould be located in this case. "}return t}();i.fadeOut("fast",function(){r.correct?i.css("color","#008f00"):i.css("color","#960000"),i.html(r.feedback_str),i.fadeIn("fast")}),r.correct&&!lt[it-1]&&($("#tick"+it).show(),lt[it-1]=!0,e=ct,a=ct+=rt[it-1],s=$("#scoreText"),o=e,n=800/(a-e),a>e&&function t(){s.text(++o+"/100"),o!=a&&setTimeout(t,n)}(),Math.random()<ht||100==ct?((t=Math.random())<.33?$("#correct").animate({top:"-30vw"},2e3,function(){$("#correct").css("top","75vw")}):t<.67?$("#excellent").animate({top:"-30vw"},2e3,function(){$("#excellent").css("top","75vw")}):$("#welldone").animate({top:"-30vw"},2e3,function(){$("#welldone").css("top","75vw")}),ht=.25):ht*=2)}),$("#challengesTab").on("tap click",function(){$("#challengesTab").removeClass("unselectedTab").addClass("selectedTab"),$("#simTab").removeClass("selectedTab").addClass("unselectedTab"),$(".simulation").hide(),$(".challenges").show(),5==it?$("#cpanel4").hide():$("#cpanel4").show()}),$("#simTab").on("tap click",function(){$("#challengesTab").removeClass("selectedTab").addClass("unselectedTab"),$("#simTab").removeClass("unselectedTab").addClass("selectedTab"),5==E?($(".simulation").show(),$("#panel6").hide()):6==E?($(".simulation").show(),$("#panel5").hide()):0==E?($(".simulation").show(),$("#panel5").hide(),$("#panel6").hide()):$(".simulation").show(),$(".challenges").hide()}),$(".buttonStepClass").on("tap click",function(){$(".buttonStepClass").removeClass("buttonStepActive"),$(this).addClass("buttonStepActive"),it=(it=$(this).attr("id")).match(/\d+/),it=Number(it),Lt()}),$(".slider").not(".vertical").children().children().css({width:"100%"}),Et(),window.addEventListener("resize",function(){$(".slider").each(function(){Rt($(this),$(this).data("val"))}),Et()}),$(document).on("mousedown mousemove touchstart touchmove",function(t){var e=$(".slider.active");if(e.length){t.preventDefault();var a,s,o=e.data("min"),n=e.data("max"),i=e.data("snap");e.hasClass("vertical")?(a=e.children().height(),s=-e.children().offset().top,"mousedown"==t.type||"mousemove"==t.type?s+=t.pageY:s+=t.originalEvent.touches[0].pageY):(a=e.children().width(),s=-e.children().offset().left,"mousedown"==t.type||"mousemove"==t.type?s+=t.pageX:s+=t.originalEvent.touches[0].pageX),s=Math.min(Math.max(s,0),1*a)/1;var r=a/((n-o)/i);s=Math.round(s/r)*r,e.find(".handle").css(e.hasClass("vertical")?"top":"left",s+"px");var l=Math.round(o+s/a*(n-o));e.data("val",l),e.data("timeout_val",l)}}),$(document).on("touchend mouseup",function(t){$(".slider.active").removeClass("active")})});