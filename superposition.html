<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="stylesheet" href="global-ui.css">

  <meta charset="UTF-8">
  <title>Superposition | The Quanta</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    body {
      margin: 0;
      font-family: "Segoe UI", Arial, sans-serif;
      background: #f6f8fb;
      color: #1f2d3d;
    }

    header {
      background: white;
      padding: 16px 28px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, .08);
      display: flex;
      align-items: center;
    }

    header img {
      width: 42px;
      margin-right: 12px;
    }

    main {
      padding: 40px;
      max-width: 1100px;
      margin: auto;
    }

    .section {
      background: white;
      padding: 30px;
      border-radius: 16px;
      box-shadow: 0 6px 18px rgba(0, 0, 0, .08);
      margin-bottom: 32px;
    }

    h2,
    h3 {
      color: #003366;
    }

    p {
      font-size: 16px;
      line-height: 1.7;
    }

    ul {
      margin-left: 20px
    }

    /* VIDEO */
    iframe {
      width: 100%;
      height: 420px;
      border: none;
      border-radius: 12px;
    }

    /* FULLSCREEN BUTTON */
    .fs-btn {
      padding: 8px 14px;
      background: #0057b8;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin-bottom: 10px;
    }

    /* SIMULATOR */
    .sim {
      display: flex;
      gap: 30px;
      flex-wrap: wrap;
      align-items: center;
    }

    .controls {
      min-width: 260px
    }

    label {
      font-weight: 600
    }

    input[type=range] {
      width: 100%;
      margin: 6px 0 14px
    }

    button.action {
      padding: 10px 16px;
      background: #0057b8;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin-right: 10px;
      margin-top: 8px;
    }

    .ket {
      font-size: 22px;
      font-weight: 600;
      color: #0057b8;
      margin-top: 10px;
    }

    /* STATE VECTOR GRAPH */
    #stateCanvas {
      border-left: 2px solid #333;
      border-bottom: 2px solid #333;
    }

    /* BLOCH SPHERE */
    #bloch {
      width: 260px;
      height: 260px;
      border-radius: 50%;
      border: 3px solid #0057b8;
      position: relative;
      background: radial-gradient(circle at 30% 30%, #eef3ff, #ffffff);
    }

    .axis {
      position: absolute;
      background: #0057b8
    }

    .axis.x {
      width: 100%;
      height: 2px;
      top: 50%
    }

    .axis.y {
      height: 100%;
      width: 2px;
      left: 50%
    }

    .pointer {
      position: absolute;
      width: 4px;
      height: 120px;
      background: #e63946;
      top: 50%;
      left: 50%;
      transform-origin: bottom center;
      transition: .4s ease;
    }

    /* MEASUREMENT GRAPH */
    #barGraph {
      width: 300px;
      height: 200px;
      display: flex;
      align-items: flex-end;
      gap: 40px;
    }

    .bar {
      width: 80px;
      background: #0057b8;
      text-align: center;
      color: white;
    }

    /* ‚îÄ‚îÄ Advanced Quiz ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    .adv-quiz-wrap {
      margin-top: 28px;
    }

    .adv-quiz-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 14px;
    }

    .adv-quiz-title {
      font-size: 15px;
      font-weight: 700;
      color: #003366;
      text-transform: uppercase;
      letter-spacing: .08em;
      display: flex;
      align-items: center;
      gap: 7px;
    }

    .adv-quiz-title::before {
      content: '';
      display: inline-block;
      width: 7px;
      height: 7px;
      border-radius: 50%;
      background: #0057b8;
      box-shadow: 0 0 8px #0057b8;
    }

    .adv-quiz-prog-label {
      font-size: 13px;
      color: #64748b;
      font-weight: 500;
    }

    .adv-quiz-bar {
      height: 5px;
      background: #e2e8f0;
      border-radius: 4px;
      margin-bottom: 18px;
      overflow: hidden;
    }

    .adv-quiz-bar-fill {
      height: 100%;
      background: linear-gradient(90deg, #0057b8, #00b4d8);
      border-radius: 4px;
      transition: width .35s ease;
    }

    .adv-quiz-card {
      background: #fff;
      border: 2px solid #e2e8f0;
      border-radius: 14px;
      padding: 26px 28px;
      box-shadow: 0 4px 16px rgba(0, 70, 150, .07);
    }

    .adv-quiz-q {
      font-size: 17px;
      font-weight: 600;
      color: #1e293b;
      line-height: 1.55;
      margin-bottom: 20px;
    }

    .adv-quiz-opts {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-bottom: 18px;
    }

    .adv-quiz-opt {
      background: #f8fafc;
      border: 2px solid #e2e8f0;
      border-radius: 10px;
      padding: 13px 16px;
      cursor: pointer;
      transition: all .22s;
      display: flex;
      align-items: center;
      gap: 14px;
    }

    .adv-quiz-opt:hover {
      border-color: #0057b8;
      background: rgba(0, 87, 184, .05);
    }

    .adv-quiz-opt.selected {
      border-color: #0057b8;
      background: rgba(0, 87, 184, .12);
    }

    .adv-quiz-opt.correct {
      border-color: #10b981;
      background: rgba(16, 185, 129, .12);
    }

    .adv-quiz-opt.incorrect {
      border-color: #ef4444;
      background: rgba(239, 68, 68, .12);
    }

    .adv-quiz-opt.disabled {
      cursor: not-allowed;
    }

    .adv-opt-letter {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      border: 2px solid #cbd5e1;
      background: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 13px;
      color: #64748b;
      flex-shrink: 0;
      transition: all .22s;
    }

    .adv-quiz-opt.selected .adv-opt-letter {
      background: #0057b8;
      border-color: #0057b8;
      color: #fff;
    }

    .adv-quiz-opt.correct .adv-opt-letter {
      background: #10b981;
      border-color: #10b981;
      color: #fff;
    }

    .adv-quiz-opt.incorrect .adv-opt-letter {
      background: #ef4444;
      border-color: #ef4444;
      color: #fff;
    }

    .adv-opt-text {
      flex: 1;
      font-size: 15px;
      color: #475569;
      line-height: 1.4;
    }

    .adv-quiz-opt.selected .adv-opt-text {
      color: #1e293b;
    }

    .adv-quiz-explain {
      display: none;
      margin-top: 14px;
      background: #eef6ff;
      border-left: 4px solid #0057b8;
      border-radius: 8px;
      padding: 14px 16px;
    }

    .adv-quiz-explain.show {
      display: block;
      animation: aqSlide .3s ease;
    }

    .adv-explain-title {
      font-size: 11px;
      font-weight: 700;
      color: #0057b8;
      text-transform: uppercase;
      letter-spacing: .1em;
      margin-bottom: 5px;
    }

    .adv-explain-text {
      font-size: 14px;
      color: #334155;
      line-height: 1.6;
    }

    .adv-quiz-controls {
      display: flex;
      justify-content: center;
      gap: 12px;
      margin-top: 20px;
    }

    .adv-quiz-btn {
      padding: 10px 24px;
      border-radius: 8px;
      font-weight: 600;
      font-size: 14px;
      cursor: pointer;
      border: none;
      transition: all .2s;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .adv-quiz-btn:disabled {
      opacity: .45;
      cursor: not-allowed;
    }

    .adv-quiz-btn-primary {
      background: linear-gradient(135deg, #0057b8, #0094d4);
      color: #fff;
    }

    .adv-quiz-btn-primary:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 6px 18px rgba(0, 87, 184, .35);
    }

    .adv-quiz-btn-secondary {
      background: transparent;
      border: 2px solid #e2e8f0;
      color: #475569;
    }

    .adv-quiz-btn-secondary:hover:not(:disabled) {
      border-color: #0057b8;
      color: #0057b8;
    }

    .adv-quiz-results {
      background: #fff;
      border: 2px solid #0057b8;
      border-radius: 14px;
      padding: 36px;
      text-align: center;
      display: none;
      animation: aqZoom .4s ease;
    }

    .adv-quiz-results.show {
      display: block;
    }

    .adv-quiz-score-pct {
      font-size: 60px;
      font-weight: 800;
      background: linear-gradient(135deg, #0057b8, #00b4d8);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      line-height: 1;
    }

    .adv-quiz-score-label {
      font-size: 20px;
      color: #475569;
      margin: 8px 0 4px;
    }

    .adv-quiz-score-detail {
      font-size: 15px;
      color: #94a3b8;
      margin-bottom: 20px;
    }

    .adv-quiz-feedback {
      font-size: 17px;
      color: #1e293b;
      background: #eef6ff;
      border-radius: 10px;
      padding: 16px 20px;
      margin-bottom: 22px;
    }

    @keyframes aqSlide {
      from {
        opacity: 0;
        transform: translateY(-8px)
      }

      to {
        opacity: 1;
        transform: translateY(0)
      }
    }

    @keyframes aqZoom {
      from {
        opacity: 0;
        transform: scale(.92)
      }

      to {
        opacity: 1;
        transform: scale(1)
      }
    }

    /* FIREWORKS */
    #fireworks {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      display: none;
    }
  </style>
</head>

<body>
  <!-- Global Back Button -->
  <div class="global-back-btn" onclick="goBackGlobal()" title="Go Back"></div>
  ‚Üê
  </div>


  <canvas id="fireworks"></canvas>

  <header>
    <img src="jntu_logo.png">
    <h2>Quantum Superposition</h2>
  </header>

  <main>

    <!-- THEORY -->
    <div class="section">
      <h2>What is Superposition?</h2>
      <p>
        Superposition means a quantum system can be in more than one state
        at the same time until it is measured.
      </p>
      <p>
        A qubit is written as:
        <strong>|œà‚ü© = Œ±|0‚ü© + Œ≤|1‚ü©</strong>
      </p>
      <ul>
        <li><strong>Œ± (alpha)</strong> ‚Üí how much |0‚ü© is present</li>
        <li><strong>Œ≤ (beta)</strong> ‚Üí how much |1‚ü© is present</li>
      </ul>
    </div>

    <!-- VIDEO -->
    <div class="section" id="videoSection">
      <h3>Visual Explanation (Video)</h3>
      <button class="fs-btn" onclick="toggleFullscreen('videoFrame')">Fullscreen</button>
      <iframe id="videoFrame" src="https://www.youtube.com/embed/mAgnIj0UXLY" allowfullscreen>
      </iframe>
    </div>

    <!-- SIMULATOR + QUIZ -->
    <div class="section" id="simSection">
      <h3>Interactive Superposition Simulator</h3>

      <button class="fs-btn" onclick="toggleFullscreen('simSection')">Fullscreen</button>
      <button class="action" onclick="setSuperposition()">Create Superposition</button>

      <div class="sim">
        <div class="controls">
          <label>Œ± (|0‚ü© amplitude)</label>
          <input type="range" id="alpha" min="0" max="1" step="0.01" value="0.7">

          <label>Œ≤ (|1‚ü© amplitude)</label>
          <input type="range" id="beta" min="0" max="1" step="0.01" value="0.7">

          <div class="ket" id="ketText"></div>
        </div>

        <canvas id="stateCanvas" width="300" height="200"></canvas>

        <div id="bloch">
          <div class="axis x"></div>
          <div class="axis y"></div>
          <div class="pointer" id="pointer"></div>
        </div>
      </div>

      <!-- ADVANCED QUIZ -->
      <div class="adv-quiz-wrap" id="advQuizMount"></div>
    </div>

    <!-- MEASUREMENT -->
    <div class="section">
      <h3>Measurement</h3>

      <p>
        In real quantum computers, measurement happens on a
        <strong>QPU</strong>.
        On this website, it is simulated using a
        <strong>CPU or GPU</strong>.
      </p>

      <button class="action" onclick="measureOnce()">Measure (1 Shot)</button>
      <button class="action" onclick="measureHundred()">Measure (100 Shots)</button>

      <p id="result"></p>

      <div id="barGraph">
        <div class="bar" id="bar0">|0‚ü©</div>
        <div class="bar" id="bar1">|1‚ü©</div>
      </div>
    </div>

  </main>

  <script>
    const alpha = document.getElementById("alpha");
    const beta = document.getElementById("beta");
    const ketText = document.getElementById("ketText");
    const pointer = document.getElementById("pointer");
    const canvas = document.getElementById("stateCanvas");
    const ctx = canvas.getContext("2d");
    const bar0 = document.getElementById("bar0");
    const bar1 = document.getElementById("bar1");
    const result = document.getElementById("result");

    /* UPDATE STATE */
    function update() {
      let a = parseFloat(alpha.value);
      let b = parseFloat(beta.value);
      let n = Math.sqrt(a * a + b * b);
      a /= n; b /= n;

      ketText.innerText = `|œà‚ü© = ${a.toFixed(2)}|0‚ü© + ${b.toFixed(2)}|1‚ü©`;

      let angle = Math.atan2(b, a) * 180 / Math.PI;
      pointer.style.transform = `rotate(${angle}deg)`;

      ctx.clearRect(0, 0, 300, 200);
      ctx.fillStyle = "#0057b8";
      ctx.fillRect(60, 200 - a * 180, 60, a * 180);
      ctx.fillRect(180, 200 - b * 180, 60, b * 180);
    }

    function setSuperposition() {
      alpha.value = 0.71;
      beta.value = 0.71;
      update();
    }

    /* MEASUREMENT */
    function measureOnce() {
      let p0 = alpha.value * alpha.value;
      result.innerText = Math.random() < p0 ? "Result: |0‚ü©" : "Result: |1‚ü©";
    }

    function measureHundred() {
      let p0 = alpha.value * alpha.value;
      let c0 = 0;
      for (let i = 0; i < 100; i++) if (Math.random() < p0) c0++;
      bar0.style.height = (c0 * 2) + "px";
      bar1.style.height = ((100 - c0) * 2) + "px";
    }

    /* FULLSCREEN */
    function toggleFullscreen(id) {
      const el = document.getElementById(id);
      if (!document.fullscreenElement) {
        el.requestFullscreen();
      } else {
        document.exitFullscreen();
      }
    }

    /* ‚îÄ‚îÄ Advanced Quiz Engine ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
    class AdvQuiz {
      constructor(data, mountId) {
        this.data = data;
        this.mount = document.getElementById(mountId);
        this.cur = 0;
        this.score = 0;
        this.answers = [];
        this.answered = false;
        this.render();
      }
      render() {
        if (!this.mount) return;
        const q = this.data.questions[this.cur];
        const pct = (this.cur / this.data.questions.length) * 100;
        this.mount.innerHTML = `
      <div class="adv-quiz-header">
        <div class="adv-quiz-title">Superposition Quiz</div>
        <div class="adv-quiz-prog-label">Q${this.cur + 1} / ${this.data.questions.length}</div>
      </div>
      <div class="adv-quiz-bar"><div class="adv-quiz-bar-fill" style="width:${pct}%"></div></div>
      <div class="adv-quiz-card">
        <div class="adv-quiz-q">${q.question}</div>
        <div class="adv-quiz-opts">
          ${q.options.map((o, i) => `
            <div class="adv-quiz-opt" data-i="${i}">
              <div class="adv-opt-letter">${'ABCD'[i]}</div>
              <div class="adv-opt-text">${o}</div>
            </div>`).join('')}
        </div>
        <div class="adv-quiz-explain" id="aqExp">
          <div class="adv-explain-title">Explanation</div>
          <div class="adv-explain-text">${q.explanation}</div>
        </div>
      </div>
      <div class="adv-quiz-controls">
        <button class="adv-quiz-btn adv-quiz-btn-secondary" id="aqPrev" ${this.cur === 0 ? 'disabled' : ''}>‚Üê Prev</button>
        <button class="adv-quiz-btn adv-quiz-btn-primary" id="aqSubmit" disabled>Submit</button>
        <button class="adv-quiz-btn adv-quiz-btn-secondary" id="aqNext" style="display:none">Next ‚Üí</button>
      </div>`;
        this.restoreAnswer();
        this.bind();
      }
      bind() {
        this.mount.querySelectorAll('.adv-quiz-opt').forEach(el =>
          el.addEventListener('click', () => { if (!this.answered) this.select(el); }));
        const sub = this.mount.querySelector('#aqSubmit');
        if (sub) sub.addEventListener('click', () => this.submit());
        const prv = this.mount.querySelector('#aqPrev');
        if (prv) prv.addEventListener('click', () => { this.cur--; this.answered = !!this.answers[this.cur]; this.render(); });
        const nxt = this.mount.querySelector('#aqNext');
        if (nxt) nxt.addEventListener('click', () => {
          if (this.cur < this.data.questions.length - 1) { this.cur++; this.answered = !!this.answers[this.cur]; this.render(); }
          else this.showResults();
        });
      }
      select(el) {
        this.mount.querySelectorAll('.adv-quiz-opt').forEach(o => o.classList.remove('selected'));
        el.classList.add('selected');
        const sub = this.mount.querySelector('#aqSubmit');
        if (sub) sub.disabled = false;
      }
      submit() {
        const sel = this.mount.querySelector('.adv-quiz-opt.selected');
        if (!sel) return;
        this.answered = true;
        const i = parseInt(sel.dataset.i);
        const q = this.data.questions[this.cur];
        const ok = i === q.correct;
        if (ok && !this.answers[this.cur]) this.score++;
        this.answers[this.cur] = { selected: i, correct: ok };
        this.mount.querySelectorAll('.adv-quiz-opt').forEach((o, idx) => {
          o.classList.add('disabled');
          if (idx === q.correct) o.classList.add('correct');
          else if (idx === i && !ok) o.classList.add('incorrect');
        });
        const exp = this.mount.querySelector('#aqExp'); if (exp) exp.classList.add('show');
        const sub = this.mount.querySelector('#aqSubmit'); if (sub) sub.style.display = 'none';
        const nxt = this.mount.querySelector('#aqNext'); if (nxt) {
          nxt.style.display = 'inline-flex';
          if (this.cur === this.data.questions.length - 1) nxt.textContent = 'View Results';
        }
        if (ok) startFireworks();
      }
      restoreAnswer() {
        const prev = this.answers[this.cur];
        if (!prev) return;
        this.answered = true;
        const q = this.data.questions[this.cur];
        this.mount.querySelectorAll('.adv-quiz-opt').forEach((o, idx) => {
          o.classList.add('disabled');
          if (idx === q.correct) o.classList.add('correct');
          if (idx === prev.selected) { o.classList.add('selected'); if (!prev.correct) o.classList.add('incorrect'); }
        });
        const exp = this.mount.querySelector('#aqExp'); if (exp) exp.classList.add('show');
        const sub = this.mount.querySelector('#aqSubmit'); if (sub) sub.style.display = 'none';
        const nxt = this.mount.querySelector('#aqNext'); if (nxt) nxt.style.display = 'inline-flex';
      }
      showResults() {
        const pct = Math.round((this.score / this.data.questions.length) * 100);
        const fb = pct >= 90 ? 'Outstanding! You have mastered quantum superposition!'
          : pct >= 70 ? 'Great job! Solid understanding of the core concepts.'
            : pct >= 50 ? 'Good effort! Review the material to strengthen your understanding.'
              : 'Keep learning! Re-read the theory above and try again.';
        this.mount.innerHTML = `
      <div class="adv-quiz-results show">
        <div class="adv-quiz-score-pct">${pct}%</div>
        <div class="adv-quiz-score-label">Your Score</div>
        <div class="adv-quiz-score-detail">${this.score} out of ${this.data.questions.length} correct</div>
        <div class="adv-quiz-feedback">${fb}</div>
        <div class="adv-quiz-controls">
          <button class="adv-quiz-btn adv-quiz-btn-secondary" onclick="location.reload()">Try Again</button>
        </div>
      </div>`;
      }
    }

    const superpositionQuizData = {
      topicName: 'Superposition',
      questions: [
        {
          question: 'What does quantum superposition mean?',
          options: ['A qubit is always in state |0‚ü©', 'A qubit can be in |0‚ü© and |1‚ü© simultaneously', 'A qubit switches rapidly between |0‚ü© and |1‚ü©', 'A qubit is always in state |1‚ü©'],
          correct: 1, explanation: 'Superposition means a qubit can exist in a combination of |0‚ü© and |1‚ü© at the same time, described by |œà‚ü© = Œ±|0‚ü© + Œ≤|1‚ü©, until it is measured.'
        },
        {
          question: 'In the state |œà‚ü© = Œ±|0‚ü© + Œ≤|1‚ü©, what is the probability of measuring |0‚ü©?',
          options: ['Œ±', 'Œ≤', '|Œ±|¬≤', '|Œ±|¬≤ + |Œ≤|¬≤'],
          correct: 2, explanation: 'Born rule: the probability of a measurement outcome equals the square of the amplitude magnitude. P(|0‚ü©) = |Œ±|¬≤.'
        },
        {
          question: 'Which quantum gate creates a perfect superposition from |0‚ü©?',
          options: ['Pauli-X gate', 'CNOT gate', 'Hadamard (H) gate', 'Phase (S) gate'],
          correct: 2, explanation: 'The Hadamard gate H transforms |0‚ü© ‚Üí (|0‚ü©+|1‚ü©)/‚àö2, a perfect 50-50 superposition.'
        },
        {
          question: 'What must be true about the amplitudes Œ± and Œ≤?',
          options: ['Œ± + Œ≤ = 1', '|Œ±|¬≤ + |Œ≤|¬≤ = 1', 'Œ± = Œ≤', '|Œ±| + |Œ≤| = 1'],
          correct: 1, explanation: 'The normalization condition requires |Œ±|¬≤ + |Œ≤|¬≤ = 1, ensuring all probabilities sum to 1.'
        },
        {
          question: 'What happens when you measure a qubit in superposition?',
          options: ['It remains in superposition', 'The wave function collapses to a definite state', 'It becomes entangled', 'The amplitudes double'],
          correct: 1, explanation: 'Measurement causes wavefunction collapse ‚Äî the qubit randomly collapses to |0‚ü© with probability |Œ±|¬≤ or to |1‚ü© with probability |Œ≤|¬≤.'
        },
        {
          question: 'Which of the following correctly describes the state (|0‚ü© + |1‚ü©)/‚àö2?',
          options: ['A classical mixed state', 'A pure superposition with equal probabilities', 'A |0‚ü© state with noise', 'An entangled 2-qubit state'],
          correct: 1, explanation: '(|0‚ü©+|1‚ü©)/‚àö2 is the |+‚ü© state, a pure superposition where measuring |0‚ü© or |1‚ü© each has exactly 50% probability.'
        },
        {
          question: 'Can classical computers naturally represent superposition?',
          options: ['Yes, using floating-point numbers', 'Yes, using probability distributions', 'No, superposition is a quantum phenomenon', 'Yes, using complex numbers'],
          correct: 2, explanation: 'Classical computers process definite 0s and 1s (or simulate probabilities). True superposition ‚Äî where both values coexist ‚Äî is a purely quantum phenomenon.'
        },
        {
          question: 'If |Œ±|¬≤ = 0.3, what is |Œ≤|¬≤?',
          options: ['0.3', '0.5', '0.7', 'Depends on the phase'],
          correct: 2, explanation: 'Normalization: |Œ±|¬≤ + |Œ≤|¬≤ = 1, so |Œ≤|¬≤ = 1 ‚àí 0.3 = 0.7.'
        }
      ]
    };

    new AdvQuiz(superpositionQuizData, 'advQuizMount');

    /* FIREWORKS */
    const fw = document.getElementById("fireworks");
    const fctx = fw.getContext("2d");
    fw.width = window.innerWidth;
    fw.height = window.innerHeight;

    function startFireworks() {
      fw.style.display = "block";
      let particles = [];
      for (let i = 0; i < 150; i++) {
        particles.push({
          x: fw.width / 2,
          y: fw.height / 2,
          vx: (Math.random() - 0.5) * 8,
          vy: (Math.random() - 0.5) * 8,
          life: 100
        });
      }

      function animate() {
        fctx.clearRect(0, 0, fw.width, fw.height);
        particles.forEach(p => {
          fctx.fillStyle = "rgba(255,215,0,0.8)";
          fctx.fillRect(p.x, p.y, 3, 3);
          p.x += p.vx;
          p.y += p.vy;
          p.life--;
        });
        particles = particles.filter(p => p.life > 0);
        if (particles.length > 0) {
          requestAnimationFrame(animate);
        } else {
          fw.style.display = "none";
        }
      }
      animate();
    }

    update();
    alpha.oninput = beta.oninput = update;
  </script>
  <script src="global-ui.js"></script>

<!-- QT-ENHANCEMENTS-v1 -->
<style>
/* ‚îÄ‚îÄ QT Enhancements ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
.qt-enhance-wrap{max-width:1100px;margin:0 auto;padding:0 24px 48px;}
/* Key Concepts */
.qt-concepts{background:#fff;border-radius:16px;box-shadow:0 4px 18px rgba(0,40,120,.08);padding:28px 32px;margin-bottom:24px;}
.qt-concepts-title{font-size:13px;font-weight:700;letter-spacing:.12em;color:#0057b8;text-transform:uppercase;margin-bottom:18px;display:flex;align-items:center;gap:8px;}
.qt-concepts-title::before{content:'';width:10px;height:10px;border-radius:50%;background:linear-gradient(135deg,#0057b8,#00b4d8);display:inline-block;flex-shrink:0;}
.qt-concepts-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px;}
.qt-concept-card{background:linear-gradient(135deg,#f0f7ff,#e8f4ff);border:1.5px solid #c7deff;border-radius:12px;padding:16px 18px;position:relative;overflow:hidden;}
.qt-concept-card::before{content:'';position:absolute;top:-20px;right:-20px;width:70px;height:70px;border-radius:50%;background:rgba(0,87,184,.07);}
.qt-concept-card h4{margin:0 0 7px;font-size:14px;color:#003380;font-weight:700;}
.qt-concept-card p{margin:0;font-size:13px;color:#475569;line-height:1.6;}
.qt-concept-card.green{background:linear-gradient(135deg,#f0fdf4,#dcfce7);border-color:#86efac;}
.qt-concept-card.green h4{color:#166534;}
.qt-concept-card.purple{background:linear-gradient(135deg,#faf5ff,#ede9fe);border-color:#c4b5fd;}
.qt-concept-card.purple h4{color:#581c87;}
.qt-concept-card.orange{background:linear-gradient(135deg,#fff7ed,#ffedd5);border-color:#fed7aa;}
.qt-concept-card.orange h4{color:#9a3412;}
/* Formula reference */
.qt-formula-box{background:#0f172a;border-radius:14px;padding:24px 28px;margin-bottom:24px;color:#e2e8f0;}
.qt-formula-box-title{font-size:12px;font-weight:700;letter-spacing:.15em;color:#38bdf8;text-transform:uppercase;margin-bottom:16px;}
.qt-formula-row{display:flex;align-items:flex-start;gap:16px;padding:10px 0;border-bottom:1px solid rgba(255,255,255,.06);}
.qt-formula-row:last-child{border-bottom:none;}
.qt-formula-tag{background:rgba(56,189,248,.15);border:1px solid rgba(56,189,248,.3);color:#38bdf8;font-size:11px;font-weight:700;padding:3px 9px;border-radius:20px;white-space:nowrap;flex-shrink:0;}
.qt-formula-math{font-family:'Courier New',monospace;font-size:15px;color:#f1f5f9;flex:1;}
.qt-formula-desc{font-size:12px;color:#94a3b8;margin-top:3px;}
/* Did You Know */
.qt-dyk{background:linear-gradient(135deg,#1e1b4b,#312e81);border-radius:14px;padding:22px 26px;margin-bottom:24px;display:flex;align-items:flex-start;gap:16px;color:#fff;}
.qt-dyk-icon{font-size:28px;flex-shrink:0;margin-top:2px;}
.qt-dyk-title{font-size:11px;font-weight:700;letter-spacing:.14em;color:#a5b4fc;text-transform:uppercase;margin-bottom:6px;}
.qt-dyk-text{font-size:14px;color:#e0e7ff;line-height:1.7;}
/* Notebook */
.qt-notebook{background:#fff;border-radius:16px;box-shadow:0 4px 18px rgba(0,40,120,.1);overflow:hidden;margin-bottom:24px;}
.qt-nb-header{background:linear-gradient(135deg,#1e293b,#0f172a);padding:16px 22px;display:flex;align-items:center;gap:10px;}
.qt-nb-dots{display:flex;gap:6px;}
.qt-nb-dot{width:12px;height:12px;border-radius:50%;}
.qt-nb-dot.red{background:#ff5f57;}
.qt-nb-dot.yellow{background:#febc2e;}
.qt-nb-dot.green{background:#28c840;}
.qt-nb-title{color:#94a3b8;font-size:13px;font-family:monospace;margin-left:8px;}
.qt-nb-body{padding:20px 22px;}
.qt-nb-label{font-size:11px;font-weight:700;letter-spacing:.12em;color:#0057b8;text-transform:uppercase;margin-bottom:8px;}
.qt-nb-tabs{display:flex;gap:4px;margin-bottom:12px;flex-wrap:wrap;}
.qt-nb-tab{padding:5px 13px;border-radius:6px;font-size:12px;font-weight:600;cursor:pointer;border:1.5px solid #e2e8f0;color:#64748b;background:#f8fafc;transition:all .18s;}
.qt-nb-tab:hover,.qt-nb-tab.active{background:#0057b8;border-color:#0057b8;color:#fff;}
.qt-nb-editor{position:relative;}
.qt-nb-code{
  width:100%;min-height:120px;background:#0f172a;color:#a5f3fc;
  font-family:'Courier New',monospace;font-size:13px;line-height:1.7;
  border:2px solid #1e293b;border-radius:10px;padding:14px;
  resize:vertical;outline:none;box-sizing:border-box;
  transition:border-color .2s;
}
.qt-nb-code:focus{border-color:#0057b8;}
.qt-nb-actions{display:flex;gap:10px;margin-top:10px;}
.qt-nb-run{background:linear-gradient(135deg,#0057b8,#0094d4);color:#fff;border:none;border-radius:8px;padding:9px 22px;font-weight:700;font-size:13px;cursor:pointer;transition:all .2s;}
.qt-nb-run:hover{transform:translateY(-2px);box-shadow:0 6px 18px rgba(0,87,184,.4);}
.qt-nb-clear{background:transparent;border:2px solid #e2e8f0;border-radius:8px;padding:9px 16px;font-size:13px;color:#64748b;cursor:pointer;transition:all .2s;}
.qt-nb-clear:hover{border-color:#ef4444;color:#ef4444;}
.qt-nb-output{margin-top:14px;background:#f8fafc;border:1.5px solid #e2e8f0;border-radius:10px;padding:14px 16px;min-height:56px;font-family:monospace;font-size:13px;color:#334155;white-space:pre-wrap;line-height:1.7;}
.qt-nb-output.error{background:#fff1f2;border-color:#fca5a5;color:#991b1b;}
.qt-nb-output.success{background:#f0fdf4;border-color:#86efac;color:#166534;}
@media(max-width:600px){.qt-concepts-grid{grid-template-columns:1fr;}.qt-formula-row{flex-direction:column;gap:6px;}}
</style>
<div class="qt-enhance-wrap">

  <!-- Key Concepts -->
  <div class="qt-concepts">
    <div class="qt-concepts-title">Key Concepts</div>
    <div class="qt-concepts-grid">
      <div class="qt-concept-card"><h4>üåä Superposition</h4><p>A qubit can be |0‚ü© and |1‚ü© simultaneously ‚Äî unlike classical bits that are always one or the other.</p></div>
<div class="qt-concept-card green"><h4>üìê State Vector</h4><p>|œà‚ü© = Œ±|0‚ü© + Œ≤|1‚ü© where |Œ±|¬≤ + |Œ≤|¬≤ = 1 (normalisation condition must always hold).</p></div>
<div class="qt-concept-card purple"><h4>üé≤ Born Rule</h4><p>P(measuring |0‚ü©) = |Œ±|¬≤. Probability comes from squaring the amplitude, not the amplitude itself.</p></div>
<div class="qt-concept-card orange"><h4>‚ö° Hadamard Gate</h4><p>H|0‚ü© = (|0‚ü©+|1‚ü©)/‚àö2 ‚Äî creates perfect 50/50 superposition from a definite state.</p></div>

    </div>
  </div>

  <!-- Formula Reference -->
  <div class="qt-formula-box">
    <div class="qt-formula-box-title">üìê Formula Reference</div>
    <div class="qt-formula-row">
  <span class="qt-formula-tag">State</span>
  <div><div class="qt-formula-math">|œà‚ü© = Œ±|0‚ü© + Œ≤|1‚ü©</div><div class="qt-formula-desc">Œ±, Œ≤ are complex amplitudes</div></div>
</div>
<div class="qt-formula-row">
  <span class="qt-formula-tag">Norm</span>
  <div><div class="qt-formula-math">|Œ±|¬≤ + |Œ≤|¬≤ = 1</div><div class="qt-formula-desc">Total probability = 1</div></div>
</div>
<div class="qt-formula-row">
  <span class="qt-formula-tag">P(0)</span>
  <div><div class="qt-formula-math">P‚ÇÄ = |Œ±|¬≤</div><div class="qt-formula-desc">Born rule for |0‚ü©</div></div>
</div>
<div class="qt-formula-row">
  <span class="qt-formula-tag">H gate</span>
  <div><div class="qt-formula-math">H = (1/‚àö2)[[1,1],[1,-1]]</div><div class="qt-formula-desc">Creates/destroys superposition</div></div>
</div>
<div class="qt-formula-row">
  <span class="qt-formula-tag">|+‚ü©</span>
  <div><div class="qt-formula-math">|+‚ü© = (|0‚ü©+|1‚ü©)/‚àö2</div><div class="qt-formula-desc">Equal superposition state</div></div>
</div>
<div class="qt-formula-row">
  <span class="qt-formula-tag">|‚àí‚ü©</span>
  <div><div class="qt-formula-math">|‚àí‚ü© = (|0‚ü©‚àí|1‚ü©)/‚àö2</div><div class="qt-formula-desc">Opposite phase superposition</div></div>
</div>

  </div>

  <!-- Did You Know -->
  <div class="qt-dyk">
    <div class="qt-dyk-icon">üí°</div>
    <div>
      <div class="qt-dyk-title">Did You Know?</div>
      <div class="qt-dyk-text">A quantum computer with just 300 qubits in superposition can represent more states simultaneously than there are atoms in the observable universe! (2¬≥‚Å∞‚Å∞ ‚âà 10‚Åπ‚Å∞)</div>
    </div>
  </div>

  <!-- Quantum Notebook -->
  <div class="qt-notebook">
    <div class="qt-nb-header">
      <div class="qt-nb-dots">
        <div class="qt-nb-dot red"></div>
        <div class="qt-nb-dot yellow"></div>
        <div class="qt-nb-dot green"></div>
      </div>
      <div class="qt-nb-title">üìì quantum_superposition.ipynb</div>
    </div>
    <div class="qt-nb-body">
      <div class="qt-nb-label">Interactive Quantum Notebook</div>
      <p style="font-size:13px;color:#64748b;margin:0 0 10px;">Run JavaScript code to explore quantum concepts. Select an example or write your own:</p>
      <div class="qt-nb-tabs" id="qtnbTabs_superposition">
        <div class="qt-nb-tab active" onclick="qtnbSetTab(this,'superposition',0)">Basic State</div><div class="qt-nb-tab" onclick="qtnbSetTab(this,'superposition',1)">Hadamard</div><div class="qt-nb-tab" onclick="qtnbSetTab(this,'superposition',2)">100 Shots</div>
      </div>
      <div class="qt-nb-editor">
        <textarea class="qt-nb-code" id="qtnbCode_superposition" spellcheck="false"></textarea>
      </div>
      <div class="qt-nb-actions">
        <button class="qt-nb-run" onclick="qtnbRun('superposition')">‚ñ∂ Run Code</button>
        <button class="qt-nb-clear" onclick="qtnbClear('superposition')">‚úï Clear</button>
      </div>
      <div class="qt-nb-output" id="qtnbOut_superposition">// Output will appear here...</div>
    </div>
  </div>

</div>

<script>
(function(){
  const _examples_superposition = [
`// Simulate |œà‚ü© = Œ±|0‚ü© + Œ≤|1‚ü©
const alpha = 0.6;
const beta = Math.sqrt(1 - alpha**2);
console.log(\`|œà‚ü© = \${alpha.toFixed(3)}|0‚ü© + \${beta.toFixed(3)}|1‚ü©\`);
console.log(\`P(|0‚ü©) = \${(alpha**2).toFixed(3)}\`);
console.log(\`P(|1‚ü©) = \${(beta**2).toFixed(3)}\`);
console.log(\`Normalised? \${Math.abs(alpha**2 + beta**2 - 1) < 1e-10}\`);`,
`// Hadamard gate on |0‚ü© ‚Üí |+‚ü©
const H = [[1/Math.SQRT2, 1/Math.SQRT2],[1/Math.SQRT2, -1/Math.SQRT2]];
const ket0 = [1, 0];
const result = H.map(row => row.reduce((s,v,i) => s + v*ket0[i], 0));
console.log(\`H|0‚ü© = [\${result.map(v=>v.toFixed(4)).join(', ')}]\`);
console.log(\`This is |+‚ü© ‚Äî probabilities: P(0)=\${(result[0]**2).toFixed(3)}, P(1)=\${(result[1]**2).toFixed(3)}\`);`,
`// Simulate 100 measurements of |+‚ü©
const shots = 100; let zeros = 0, ones = 0;
for(let i=0; i<shots; i++){
  Math.random() < 0.5 ? zeros++ : ones++;
}
console.log(\`After \${shots} shots:\`);
console.log(\`|0‚ü©: \${zeros} times (\${zeros}%)\`);
console.log(\`|1‚ü©: \${ones} times (\${ones}%)\`);
console.log(\`Expected: ~50% each\`);`
];
  window.qtnbSetTab = window.qtnbSetTab || function(el,pg,idx){
    el.closest('[id^="qtnbTabs_"]').querySelectorAll('.qt-nb-tab').forEach(t=>t.classList.remove('active'));
    el.classList.add('active');
    document.getElementById('qtnbCode_'+pg).value=window['_nbex_'+pg][idx];
  };
  window['_nbex_superposition'] = _examples_superposition;
  window.qtnbRun = window.qtnbRun || function(pg){
    const code=document.getElementById('qtnbCode_'+pg).value;
    const out=document.getElementById('qtnbOut_'+pg);
    const logs=[]; const origLog=console.log;
    console.log=(...a)=>logs.push(a.map(x=>typeof x==='object'?JSON.stringify(x,null,2):String(x)).join(' '));
    try{
      new Function(code)();
      out.textContent=logs.join('\n')||'(no output)';
      out.className='qt-nb-output success';
    }catch(e){
      out.textContent='‚ùå Error: '+e.message;
      out.className='qt-nb-output error';
    }finally{console.log=origLog;}
  };
  window.qtnbClear = window.qtnbClear || function(pg){
    document.getElementById('qtnbCode_'+pg).value='';
    const out=document.getElementById('qtnbOut_'+pg);
    out.textContent='// Output will appear here...';
    out.className='qt-nb-output';
  };
  // Load first example by default
  if(document.readyState==='loading'){
    document.addEventListener('DOMContentLoaded',function(){
      document.getElementById('qtnbCode_superposition').value=_examples_superposition[0];
    });
  } else {
    document.getElementById('qtnbCode_superposition').value=_examples_superposition[0];
  }
})();
</script>

</body>

</html>